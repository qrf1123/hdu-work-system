{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/confirm/WorkHoursDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/confirm/WorkHoursDetail.vue","mtime":1616864905059},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZGVsOicnLAogICAgICAgICAgICBjb21maXJtU3RhdHVzIDonJywKICAgICAgICAgICAgZGV0YWlsOiBbXSwKICAgICAgICAgICAgc2hvd0J1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlMTonMTExMTEnLAogICAgICAgICAgICBDb25maXJtTW9kaWZ5OmZhbHNlLAogICAgICAgICAgICBjb21maXJtTWludXRlczonJywKICAgICAgICAgICAgcDonJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVG9wTmF2CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGhhbmRsZUNvbmZpcm0oKXsKICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kYWpheC5wb3N0KCcvc3lzdGVtL2FwaS90ZWFjaGVyL3dvcmtIb3Vyc0NvbWZpcm0nLHtpZCA6IHRoaXMubW9kZWwuaWR9KQogICAgICAgICAgICBpZihyZXMuZGF0YS5jb2RlID09PSAyMDApewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvY29uZmlybScscXVlcnk6e21vZGVsIDogdGhpcy5wfX0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25Db25maXJtTW9kaWZ5KCl7CiAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRhamF4LnBvc3QoJy9zeXN0ZW0vYXBpL3RlYWNoZXIvd29ya0hvdXJzVXBkYXRlJyx7aWQgOiB0aGlzLm1vZGVsLmlkLGNvbWZpcm1NaW51dGVzOnRoaXMuY29tZmlybU1pbnV0ZXN9KQogICAgICAgICAgICBpZihyZXMuZGF0YS5jb2RlID09PSAyMDApewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvY29uZmlybScscXVlcnk6e21vZGVsIDogdGhpcy5wfX0pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgaGFuZGxlQ2FuY2xlKCl7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFqYXgucG9zdCgnL3N5c3RlbS9hcGkvdGVhY2hlci9jYW5jZWxXb3JrSG91cnNDb21maXJtJyx7aWQgOiB0aGlzLm1vZGVsLmlkfSkKICAgICAgICAgICAgaWYocmVzLmRhdGEuY29kZSA9PT0gMjAwKXsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvY29uZmlybScscXVlcnk6e21vZGVsIDogdGhpcy5wfX0pOwogICAgICAgIH0sCgogICAgfSwKICAgIAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmNvbWZpcm1TdGF0dXMgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pdGVtLmNvbWZpcm1TdGF0dXMKICAgICAgICB0aGlzLm1vZGVsPXRoaXMuJHJvdXRlLnF1ZXJ5Lml0ZW0KICAgICAgICB0aGlzLnAgPSB0aGlzLiRyb3V0ZS5xdWVyeS5tb2RlbAogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubW9kZWwpOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucCk7CiAgICB9Cn0K"},{"version":3,"sources":["WorkHoursDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WorkHoursDetail.vue","sourceRoot":"src/views/teacher/confirm","sourcesContent":["<template>\n    <div class=\"employ\">\n        <top-nav title=\"工时详情\" :isShow=\"true\" />\n        <!-- <van-cell-group>\n            <van-cell v-for=\"(item,index) in jobDetail\" :key=\"index\" :title=\"item.name\" :value=\"item.value ? item.value : '信息为空' \"/>\n        </van-cell-group> -->\n        <van-cell-group >\n            <van-field label-width=\"103px\" v-if=\"false\" label-align=\"right\" label=\"id\" v-model=\"model.id\"  readonly />\n            <van-field label-width=\"103px\" label-align=\"right\" label=\"学生学号\" v-model=\"model.userId\" readonly />\n            <van-field label-width=\"103px\" label-align=\"right\" label=\"工作日期\" v-model=\"model.workDate\" readonly />\n            <van-field label-width=\"103px\" label-align=\"right\" label=\"工作时长(min)\" v-model=\"model.workMinutes\" readonly />\n            <van-field label-width=\"103px\" label-align=\"right\" label=\"确认状态\" v-model=\"model.comfirmStatus\" readonly />\n            <van-field label-width=\"103px\" label-align=\"right\" label=\"确认工时(min)\" v-model=\"model.comfirmMinutes\" readonly />\n        </van-cell-group>\n        <van-button v-if=\"this.comfirmStatus === '未确认'?true:false\" size=\"mini\"   color=\"rgb(81, 125, 252)\" block @click=\"handleConfirm()\">确认工时</van-button>\n        <van-button v-if=\"((this.comfirmStatus === '未确认') || (this.comfirmStatus === '用工老师已确认'))?true:false\" size=\"mini\"  color=\"rgb(81, 125, 252)\" block @click=\"ConfirmModify = true\">修改工时</van-button>\n        <van-button v-if=\"this.comfirmStatus === '用工老师已确认'?true:false\" size=\"mini\"  color=\"rgb(81, 125, 252)\" block @click=\"handleCancle()\">取消确认</van-button>\n        <van-dialog v-model=\"ConfirmModify\" title=\"理由\" @confirm=\"onConfirmModify\" show-cancel-button>\n            <van-field\n                v-model=\"comfirmMinutes\"\n                rows=\"1\"\n                autosize\n                label=\"修改时长\"\n                type=\"textarea\"\n                placeholder=\"请输入确认工时(min)\"\n                />\n        </van-dialog>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nexport default {\n    data() {\n        return {\n            model:'',\n            comfirmStatus :'',\n            detail: [],\n            showButton: false,\n            value1:'11111',\n            ConfirmModify:false,\n            comfirmMinutes:'',\n            p:''\n        }\n    },\n    components: {\n        TopNav\n    },\n    methods: {\n        async handleConfirm(){\n            const res = await this.$ajax.post('/system/api/teacher/workHoursComfirm',{id : this.model.id})\n            if(res.data.code === 200){\n                this.$toast(res.data.msg);\n            }else{\n                this.$toast(res.data.msg);\n            }\n            this.$router.push({path:'/confirm',query:{model : this.p}});\n        },\n        async onConfirmModify(){\n             const res = await this.$ajax.post('/system/api/teacher/workHoursUpdate',{id : this.model.id,comfirmMinutes:this.comfirmMinutes})\n            if(res.data.code === 200){\n                this.$toast(res.data.msg);\n            }else{\n                this.$toast(res.data.msg);\n            }\n            this.$router.push({path:'/confirm',query:{model : this.p}});\n        },\n        async handleCancle(){\n            const res = await this.$ajax.post('/system/api/teacher/cancelWorkHoursComfirm',{id : this.model.id})\n            if(res.data.code === 200){\n                this.$toast(res.data.msg);\n            }else{\n                this.$toast(res.data.msg);\n            }\n        this.$router.push({path:'/confirm',query:{model : this.p}});\n        },\n\n    },\n    \n    mounted() {\n        this.comfirmStatus = this.$route.query.item.comfirmStatus\n        this.model=this.$route.query.item\n        this.p = this.$route.query.model\n        console.log(this.model);\n        console.log(this.p);\n    }\n}\n</script>\n\n<style scoped>\n.van-button {\n    margin: 10px 20px;\n    /* width: 95%; */\n    width : 70px; \n    display:inline-block; \n    float: right;\n    border-radius: 10%;\n    /* margin-left:30px */\n}\n</style>"]}]}