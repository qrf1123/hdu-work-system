{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/publish/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/publish/Form.vue","mtime":1620399245864},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogWyd0aXRsZScsJ2Zsb3dJRCcsJ2Zsb3dOYW1lJ10sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0dWRlbnRUeXBlOjAsCiAgICAgICAgICAgIGRldGFpbDoge30sCiAgICAgICAgICAgIHZhbHVlMTonJywKICAgICAgICAgICAgdmFsdWUyOicnLAogICAgICAgICAgICB2YWx1ZTM6JycsCiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgICAvLyBmbG93SWQ6JycsICDnrKzkuIDmrKHlj5HotbfnlLPor7fnmoTml7blgJnmsqHmnIkg5LiN55So5aGr5YaZ6L+Z5LiqCiAgICAgICAgICAgICAgICBmbG93TmFtZTonJywKICAgICAgICAgICAgICAgIHByb2NUeXBlOiI0IiwgLy8gNC3nlKjlt6XnlLPor7cg5oiW6ICFIDUt5bel5pe255Sz6K+3CiAgICAgICAgICAgICAgICBmbG93RGF0YTp7CiAgICAgICAgICAgICAgICAgICAgdGVybUlkOicyJywKICAgICAgICAgICAgICAgICAgICBzdGF0aW9uVHlwZTonJywgLy/lspfkvY3nsbvliKvvvIwxLeS4gOiIrOWyl++8jDQt5Yqp5pWZ5bKX77yMNS3liqnnrqHlspfvvIzlpoLkuI3pgInvvIzpu5jorqTkuLrkuIDoiKzlspcKICAgICAgICAgICAgICAgICAgICB0b3RhbE51bTonJywgIC8vIOaAu+S6uuaVsOS4iumZkAogICAgICAgICAgICAgICAgICAgIG5vbnBvb3JOdW06JycsCiAgICAgICAgICAgICAgICAgICAgb3RoZXJEZXB0TnVtOicnLAogICAgICAgICAgICAgICAgICAgIHJlbWFya3M6JycsIC8vIOeUs+ivt+ivtOaYjuS/oeaBrwogICAgICAgICAgICAgICAgICAgIHN0YXRpb25OYW1lOicnLAogICAgICAgICAgICAgICAgICAgIC8vIHN0YXRpb25UeXBlOicnLCAvL+W3peenjSDogIHluIjnlKjlt6XnlLPor7fml7blv4XloasKICAgICAgICAgICAgICAgICAgICAvLyDms6jmhI/ov5nkuKrmmK8g5YaZ5q275LqGCiAgICAgICAgICAgICAgICAgICAgZGVwdElkOicnLCAvL+eUs+ivt+iAgeW4iOmDqOmXqAogICAgICAgICAgICAgICAgICAgIHRvdGFsX251bTonJywgLy/nlKjlt6XnlLPor7fkurrmlbAKICAgICAgICAgICAgICAgICAgICB3b3JrU3RhcnRUaW1lOicnLAogICAgICAgICAgICAgICAgICAgIHN0YXRpb25Db250ZW50OicnLCAvLyDnlKjlt6XlhoXlrrkKICAgICAgICAgICAgICAgICAgICBzdGF0aW9uTG9jYXRpb246ICcnIC8v55So5bel5Zyw54K5CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0YWZmQXV0aDE6JycsCiAgICAgICAgICAgIHN0YWZmQXV0aDI6JycsCiAgICAgICAgICAgIHRlcm1zOiBbXSwKICAgICAgICAgICAgdGVybTogJycsCiAgICAgICAgICAgIHRlcm1PcHRpb25zOiBbXSwKICAgICAgICAgICAgLy/mnKznp5HnlJ8g6YCJ5oupIOeahCDlspfkvY3nsbvlnosKICAgICAgICAgICAgc3RhdGlvblR5cGVzMTpbCiAgICAgICAgICAgICAgICB7dGV4dDon5Zu65a6a5bKXJyx2YWx1ZToiMSJ9LAogICAgICAgICAgICAgICAge3RleHQ6J+S4tOaXtuWylycsdmFsdWU6IjIifSwKICAgICAgICAgICAgICAgIHt0ZXh0OiflgYfmnJ/lspcnLHZhbHVlOiIzIn0sCiAgICAgICAgICAgICAgICB7dGV4dDon5pys56eR55Sf5Yqp5pWZJyx2YWx1ZToiNCJ9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgLy/noJTnqbbnlJ8g6YCJ5oupIOeahCDlspfkvY3nsbvlnosKICAgICAgICAgICAgc3RhdGlvblR5cGVzMjpbCiAgICAgICAgICAgICAgICB7dGV4dDon5Zu65a6a5bKXJyx2YWx1ZToiMSJ9LAogICAgICAgICAgICAgICAge3RleHQ6J+S4tOaXtuWylycsdmFsdWU6IjIifSwKICAgICAgICAgICAgICAgIHt0ZXh0OiflgYfmnJ/lspcnLHZhbHVlOiIzIn0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAvL+eglOeptueUnyDlj68g6YCJ5oup55qEIOWyl+S9jeWQjeensCAgIOeglOeptueUn+WKqeaVmSDnoJTnqbbnlJ/liqnnrqEg56CU56m255Sf5Yqp56CUICDnoJTnqbbnlJ/nrqHnkIblkZgKICAgICAgICAgICAgc3RhdGlvbk5hbWVzOlsKICAgICAgICAgICAgICAgIHt0ZXh0OifnoJTnqbbnlJ/liqnmlZknLHZhbHVlOiIxIn0sCiAgICAgICAgICAgICAgICB7dGV4dDon56CU56m255Sf5Yqp566hJyx2YWx1ZToiMiJ9LAogICAgICAgICAgICAgICAge3RleHQ6J+eglOeptueUn+WKqeeglCcsdmFsdWU6IjMifSwKICAgICAgICAgICAgICAgIHt0ZXh0OifnoJTnqbbnlJ/nrqHnkIblkZgnLHZhbHVlOiI0In0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGRlcHRUeXBlOicnLAogICAgICAgICAgICBzdGF0aW9uVHlwZTogJycsCiAgICAgICAgICAgIGpvYkNhdGVnb3J5OiBbJ+WbuuWumuWylycsJ+S4tOaXtuWylycsJ+WBh+acn+WylycsJ+WKqeaVmeWylycsJ+eglOeptueUn+WKqeaVmSddLAogICAgICAgICAgICBzaG93Q2FsZW5kYXIxOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NhbGVuZGFyMjogZmFsc2UsCiAgICAgICAgICAgIHNob3dQaWNrZXI6IGZhbHNlLAogICAgICAgICAgICBzaG93UGlja2VyMTogZmFsc2UsCiAgICAgICAgICAgIHNob3dQaWNrZXIyOiBmYWxzZSwKICAgICAgICAgICAgc2hvd1BpY2tlclN0YXRpb25OYW1lOmZhbHNlLAogICAgICAgICAgICBzaG93UGlja2VyU3RhdGlvblR5cGUxOmZhbHNlLAogICAgICAgICAgICBzaG93UGlja2VyU3RhdGlvblR5cGUyOmZhbHNlLAogICAgICAgICAgICBtaW5EYXRlOiBuZXcgRGF0ZSgyMDIwLCAwLCAxKSwgLy8g5rWL6K+V5pel5pyfIOWQjuerr+iuvue9rueahOa1i+ivleaXpeacn+iMg+WbtCDkuI3lnKjov5nkuKrojIPlm7Tmj5DkuqTkvr/kvJrmiqXplJnvvIEKICAgICAgICAgICAgbWF4RGF0ZTogbmV3IERhdGUoMjAyMSwgMTEsIDMxKSwgLy8g5rWL6K+V5pel5pyfIOWQjuerr+iuvue9rueahOa1i+ivleaXpeacn+iMg+WbtCDkuI3lnKjov5nkuKrojIPlm7Tmj5DkuqTkvr/kvJrmiqXplJnvvIEKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIFRvcE5hdgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXRzdGFmZkF1dGhzKCl7CiAgICAgICAgICAgIC8vIHRoaXMuc3RhZmZBdXRoMSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3N0YWZmQXV0aDEnKS0wOwogICAgICAgICAgICB0aGlzLnN0YWZmQXV0aDEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdGFmZkF1dGgxJykuc2xpY2UoMSwyKS0wOwogICAgICAgICAgICAvLyB0aGlzLnN0YWZmQXV0aDIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdGFmZkF1dGgyJyktMDsKICAgICAgICAgICAgdGhpcy5zdGFmZkF1dGgyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3RhZmZBdXRoMicpLnNsaWNlKDEsMiktMDsKCiAgICAgICAgICAgIHRoaXMuZGVwdFR5cGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkZXB0VHlwZScpLnNsaWNlKDEsMiktMDsKCiAgICAgICAgICAgIC8vIDAt6YOo6Zeo77yMMS3lrabpmaIKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5kZXB0VHlwZSkKICAgICAgICAgICAgdGhpcy5tb2RlbC5mbG93RGF0YS5kZXB0SWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkZXB0SWQnKS0wOwogICAgICAgICAgICBjb25zb2xlLmxvZygiZGVwdElkOiIrdGhpcy5tb2RlbC5mbG93RGF0YS5kZXB0SWQpCgogICAgICAgIH0sCiAgICAgICAgb25Db25maXJtU3RhcnQoZGF0ZSkgewogICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLndvcmtTdGFydFRpbWUgPSB0aGlzLmZvcm1hdE15RGF0ZShkYXRlKQogICAgICAgICAgICB0aGlzLnNob3dDYWxlbmRhcjEgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIG9uQ29uZmlybUVuZChkYXRlKSB7CiAgICAgICAgICAgIHRoaXMubW9kZWwud29ya0VuZFRpbWUgPSB0aGlzLmZvcm1hdE15RGF0ZShkYXRlKQogICAgICAgICAgICB0aGlzLnNob3dDYWxlbmRhcjIgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIG9uQ29uZmlybUpvYih2YWx1ZSxpbmRleCkgewogICAgICAgICAgICB0aGlzLnN0YXRpb25UeXBlID0gdmFsdWUKICAgICAgICAgICAgdGhpcy5tb2RlbC5zdGF0aW9uVHlwZSA9IGAke2luZGV4ICsgMX1gCiAgICAgICAgICAgIHRoaXMuc2hvd1BpY2tlciA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBvbkNvbmZpcm1UZXJtKHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMudmFsdWUxID0gdmFsdWUudGV4dAogICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLnRlcm1JZCA9IHZhbHVlLnZhbHVlCiAgICAgICAgICAgIHRoaXMuc2hvd1BpY2tlcjEgPSBmYWxzZQogICAgICAgIH0sCiAgICAgICAgb25Db25maXJtU3RhdGlvblR5cGUodmFsdWUpIHsKICAgICAgICAgICAgdGhpcy52YWx1ZTI9IHZhbHVlLnRleHQ7CiAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvblR5cGUgPSB2YWx1ZS52YWx1ZQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiaW5kZXg6IisgdmFsdWUudGV4dCk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJpbmRleDoiKyB2YWx1ZS52YWx1ZSk7CiAgICAgICAgICAgIHRoaXMuc2hvd1BpY2tlclN0YXRpb25UeXBlMSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuc2hvd1BpY2tlclN0YXRpb25UeXBlMiA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBvbkNvbmZpcm1TdGF0aW9uTmFtZSh2YWx1ZSkgewogICAgICAgICAgICB0aGlzLnZhbHVlMz0gdmFsdWUudGV4dCA7CiAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvblR5cGUgPSB2YWx1ZS50ZXh0IDsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImluZGV4OiIrIHZhbHVlLnRleHQpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiaW5kZXg6IisgdmFsdWUudmFsdWUpOwogICAgICAgICAgICB0aGlzLnNob3dQaWNrZXJTdGF0aW9uTmFtZSA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBhc3luYyBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgdmFyIGlzRW1wbHR5ID0gZmFsc2UKICAgICAgICAgICAgZm9yKGxldCBrZXkgaW4gdGhpcy5tb2RlbCkgewogICAgICAgICAgICAgICAgaWYoa2V5ICE9PSAncG9vck51bScgJiYga2V5IT09J25vbnBvb3JOdW0nICYmIGtleSE9PSdvdGhlckRlcHROdW0nICYmIGtleSE9PSdza2lsbFFlcnVpcmUnICYmIGtleSE9PSdyZW1hcmtDb250ZW50JykgewogICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm1vZGVsW2tleV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QuZmFpbCgn5b+F5aGr6aG55LiN6IO95Li656m6ISEhJykKICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXBsdHkgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCFpc0VtcGx0eSkgewogICAgICAgICAgICAgICAgdmFyIHJlcwoKICAgICAgICAgICAgICAgIC8vIDAt6YOo6Zeo77yMMS3lrabpmaIKICAgICAgICAgICAgICAgIGlmKHRoaXMuZGVwdFR5cGUgPT09IDApewogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEub3RoZXJEZXB0TnVtID0gdGhpcy5tb2RlbC5mbG93RGF0YS50b3RhbF9udW0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8v6K+35rGC5o6l5Y+j5aSx6LSlIOS5i+WQjuWGjeasoeaPkOS6pCDkvJrmnInlvojlpJrkuKog55qE55So5bel55Sz6K+3IOWKoOWIsOWwvumDqCDmiYDku6XliKTmlq3lsL7pg6jlpoLmnpzmmK8g55qE55So5bel55Sz6K+355qEIOivneWwseS4jeWGjeWKoOS6hgogICAgICAgICAgICAgICAgdmFyIHRlbXBGbG93TmFtZSA9IHRoaXMubW9kZWwuZmxvd05hbWUuc2xpY2UodGhpcy5tb2RlbC5mbG93TmFtZS5sZW5ndGgtNSx0aGlzLm1vZGVsLmZsb3dOYW1lLmxlbmd0aCkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXBGbG93TmFtZSk7CiAgICAgICAgICAgICAgICBpZiAodGVtcEZsb3dOYW1lICE9PSAi55qE55So5bel55Sz6K+3IikgewogICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dOYW1lID0gdGhpcy5tb2RlbC5mbG93TmFtZSArICLnmoTnlKjlt6XnlLPor7ciOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGlmKHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvblR5cGUgPT0gNCApCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5mbG93RGF0YS5zdGF0aW9uTmFtZSA9IHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvbk5hbWUgKyAi5pys56eR55Sf5Yqp5pWZIjsKCiAgICAgICAgICAgICAgICBpZih0aGlzLiRyb3V0ZS5wYXRoID09PScvZWRpdCcpewogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0lkID0gdGhpcy5mbG93SUQ7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuJGFqYXgucG9zdCgnL3N5c3RlbS9mbG93cy9zdGFydEZsb3cnLCB0aGlzLm1vZGVsKQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuJGFqYXgucG9zdCgnL3N5c3RlbS9mbG93cy9zdGFydEZsb3cnLCB0aGlzLm1vZGVsKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tb2RlbC5wcm9jVHlwZSk7CgoKICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMubW9kZWwucHJvY1R5cGUgPT0gIjQiKXsKICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygxMjMpOwogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvbk5hbWUgPSB0aGlzLm1vZGVsLmZsb3dEYXRhLnN0YXRpb25OYW1lLnNsaWNlKDAsKHRoaXMubW9kZWwuZmxvd0RhdGEuc3RhdGlvbk5hbWUubGVuZ3RoLTUpKTsKICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLm1vZGVsLmZsb3dOYW1lID0gdGhpcy5tb2RlbC5mbG93TmFtZS5zbGljZSgwLCh0aGlzLm1vZGVsLmZsb3dOYW1lLmxlbmd0aC01KSk7CiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2codGhpcy5tb2RlbC5mbG93RGF0YS5zdGF0aW9uTmFtZSkKICAgICAgICAgICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1vZGVsLmZsb3dOYW1lKQogICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MocmVzLmRhdGEubXNnKQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcHVibGlzaCcpCiAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy/kv67mlLnkuoYg5aSx6LSl5pe255qE5o+Q56S65L+h5oGvIAogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwocmVzLmRhdGEubXNnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZvcm1hdE15RGF0ZShkYXRlKSB7CiAgICAgICAgICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpCiAgICAgICAgICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDEKICAgICAgICAgICAgbW9udGggPSBtb250aCA8IDEwID8gKCcwJyArIG1vbnRoKSA6IG1vbnRoCiAgICAgICAgICAgIGxldCBkID0gZGF0ZS5nZXREYXRlKCkKICAgICAgICAgICAgZCA9IGQgPCAxMCA/ICgnMCcgKyBkKSA6IGQKICAgICAgICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZH1gCiAgICAgICAgfSwKICAgICAgICBnZXRUZXJtT3B0aW9ucygpIHsKICAgICAgICAgICAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKQogICAgICAgICAgICBpZihuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxPCA5KSB7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gYCR7eWVhciAtMX0tJHt5ZWFyfWAKICAgICAgICAgICAgICAgIHJldHVybiBbYCR7dGVybX3nrKzkuIDlrabmnJ9gLCBgJHt0ZXJtfeesrOS6jOWtpuacn2BdCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gYCR7eWVhcn0tJHt5ZWFyICsgMX1gCiAgICAgICAgICAgICAgICByZXR1cm4gW2Ake3Rlcm1956ys5LiA5a2m5pyfYCwgYCR7dGVybX3nrKzkuozlrabmnJ9gXQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLy/ku7vliqHor6bmg4UKICAgICAgICBhc3luYyBnZXRGbG93RGV0YWlsKGZsb3dJZCl7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFqYXguZ2V0KCcvc3lzdGVtL2Zsb3dzL3F1ZXJ5Rmxvd0RhdGEnLHtwYXJhbXM6e2Zsb3dJZCA6IGZsb3dJZH19KQogICAgICAgICAgICAgICAgaWYocmVzLmRhdGEuY29kZSA9PT0gMjAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnByb2NUeXBlID0gIjQiOwogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEudGVybUlkID0gcmVzLmRhdGEuZGF0YS5mbG93RGF0YS50ZXJtSWQKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLnN0YXRpb25UeXBlID0gcmVzLmRhdGEuZGF0YS5mbG93RGF0YS5zdGF0aW9uVHlwZSAKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLnRvdGFsX251bSA9IHJlcy5kYXRhLmRhdGEuZmxvd0RhdGEudG90YWxOdW0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLm5vbnBvb3JOdW0gPSByZXMuZGF0YS5kYXRhLmZsb3dEYXRhLm5vbnBvb3JOdW0gCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5mbG93RGF0YS5vdGhlckRlcHROdW0gPSByZXMuZGF0YS5kYXRhLmZsb3dEYXRhLm90aGVyRGVwdE51bQogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEucmVtYXJrcyA9IHJlcy5kYXRhLmRhdGEuZmxvd0RhdGEucmVtYXJrcwogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZmxvd0RhdGEuZGVwdElkID0gcmVzLmRhdGEuZGF0YS5mbG93RGF0YS5kZXB0SWQKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLndvcmtTdGFydFRpbWUgPSByZXMuZGF0YS5kYXRhLmZsb3dEYXRhLndvcmtTdGFydFRpbWUuc2xpY2UoMCwxMCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5mbG93RGF0YS5zdGF0aW9uQ29udGVudCA9IHJlcy5kYXRhLmRhdGEuZmxvd0RhdGEuc3RhdGlvbkNvbnRlbnQKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dEYXRhLnN0YXRpb25Mb2NhdGlvbiA9IHJlcy5kYXRhLmRhdGEuZmxvd0RhdGEuc3RhdGlvbkxvY2F0aW9uIAogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGdldFRlcm1MaXN0KCl7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFqYXguZ2V0KCcvc3lzdGVtL3Rlcm0vbGlzdCcpCiAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT09IDIwMCl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5yb3dzKQogICAgICAgICAgICAgICAgcmVzLmRhdGEucm93cy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXJtID17CiAgICAgICAgICAgICAgICAgICAgICAgdGV4dDonJywKICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTonJyAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGVybS50ZXh0ID0gaXRlbS50ZXJtTmFtZTsKICAgICAgICAgICAgICAgICAgICB0ZXJtLnZhbHVlID0gaXRlbS50ZXJtSWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGVybSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXJtcy5wdXNoKHRlcm0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0VGVybUxpc3QoKTsKICAgICAgICB0aGlzLmdldHN0YWZmQXV0aHMoKTsKICAgICAgICBpZih0aGlzLiRyb3V0ZS5wYXRoID09PSAnL2VkaXQnKXsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rmxvd0RldGFpbCh0aGlzLmZsb3dJRCk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmZsb3dOYW1lID0gdGhpcy5mbG93TmFtZS5zbGljZSgwLHRoaXMuZmxvd05hbWUubGVuZ3RoLTUpOwogICAgICAgICAgICB9CiAgICB9CiAgICAKfQo="},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Form.vue","sourceRoot":"src/views/teacher/publish","sourcesContent":["<template>\n    <div>\n        <top-nav :title=\"title\" :isShow=\"true\" />\n        <van-form @submit=\"onSubmit\">\n            <van-field required disabled readonly v-if=\"false\" v-model=\"flowID\" label=\"流程ID\" rows=\"1\"  type=\"digit\" />\n            <van-field required v-model=\"model.flowName\" label=\"流程标题\" rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"学院/部门+教师全名+工号\" error-message=\"学院/部门+教师全名+工号\"/>\n            <van-field required disabled v-if=\"false\"  label=\"流程类型\" rows=\"1\"   type=\"text\" placeholder=\"用工申请\"/>\n            <van-field required name=\"radio\" label=\"学生类别\">\n                <template #input>\n                    <van-radio-group v-model=\"studentType\" direction=\"horizontal\">\n                        <van-radio name=\"1\">本科生</van-radio>\n                        <van-radio name=\"2\">研究生</van-radio>\n                    </van-radio-group>\n                </template>\n            </van-field>\n\n            <van-field v-if=\"studentType == 1?true:false\" required readonly clickable name=\"pickerStationType1\" :value=\"value2\" label=\"岗位类别\" placeholder=\"点击选择岗位类型\" @click=\"showPickerStationType1 = true\"/>\n            <van-popup v-model=\"showPickerStationType1\" position=\"bottom\">\n                <van-picker show-toolbar :columns=\"stationTypes1\" @confirm=\"onConfirmStationType\" @cancel=\"showPickerStationType1 = false\"/>\n            </van-popup>\n            <van-field v-if=\"studentType == 2?true:false\" required readonly clickable name=\"pickerStationType2\" :value=\"value2\" label=\"岗位类别\" placeholder=\"点击选择岗位类型\" @click=\"showPickerStationType2 = true\"/>\n            <van-popup v-model=\"showPickerStationType2\" position=\"bottom\">\n                <van-picker show-toolbar :columns=\"stationTypes2\" @confirm=\"onConfirmStationType\" @cancel=\"showPickerStationType2 = false\"/>\n            </van-popup>\n            <!-- 本科生的岗位 输入 岗位名称 -->\n            <van-field v-if=\"studentType == 1 ? true : false \" required v-model=\"model.flowData.stationName\" label=\"岗位名称\" rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"岗位名称\"/>\n\n            <!-- 研究生的岗位名称 四选一 -->\n\n            <van-field v-if=\"studentType == 2?true:false\" required readonly clickable name=\"pickerStationName\" :value=\"value3\" label=\"岗位名称\" placeholder=\"点击选择岗位名称\" @click=\"showPickerStationName = true\"/>\n            <van-popup v-model=\"showPickerStationName\" position=\"bottom\">\n                <van-picker show-toolbar :columns=\"stationNames\" @confirm=\"onConfirmStationName\" @cancel=\"showPickerStationName = false\"/>\n            </van-popup>\n\n            <van-field required readonly clickable name=\"picker1\" :value=\"value1\" label=\"用工学期\" placeholder=\"点击选择学期\" @click=\"showPicker1 = true\"/>\n            <van-popup v-model=\"showPicker1\" position=\"bottom\">\n                <van-picker show-toolbar :columns=\"terms\" @confirm=\"onConfirmTerm\" @cancel=\"showPicker1 = false\"/>\n            </van-popup>\n\n            <van-field required label=\"总需人数\" v-model.number=\"model.flowData.total_num\" placeholder=\"所需人数\" type=\"text\"/>\n            <!-- <van-field required label=\"贫困生数\" v-model.number=\"model.flowData.poorNum\" placeholder=\"贫困生数\" type=\"digit\"/> -->\n            <!-- <van-field required v-if=\"staffAuth1 === 1 ?true:false\" label=\"贫困生数\" v-model.number=\"model.flowData.poorNum\" placeholder=\"贫困生数\" type=\"digit\"/> -->\n            <van-field required v-if=\"staffAuth1 === 1 ?true:false\" label=\"非贫人数\" v-model.number=\"model.flowData.nonpoorNum\" placeholder=\"非贫困生人数\" type=\"digit\"/>\n            <!-- <van-field required v-if=\"staffAuth2 === 1 ?true:false\" label=\"校岗人数\" v-model.number=\"model.flowData.otherDeptNum\" placeholder=\"校岗非本院人数\" type=\"digit\"/> -->\n            <van-field required v-if=\"staffAuth2 === 1 && deptType === 1\" label=\"校岗人数\" v-model.number=\"model.flowData.otherDeptNum\" placeholder=\"校岗非本院人数\" type=\"digit\"/>\n            <van-field required label=\"开始日期\" readonly clickable name=\"calendar\" :value=\"model.flowData.workStartTime\"  placeholder=\"点击选择开始日期\" @click=\"showCalendar1 = true\"/>\n            <van-calendar :min-date=\"minDate\" :max-date=\"maxDate\" color=\"rgb(81, 125, 252)\" v-model=\"showCalendar1\" @confirm=\"onConfirmStart\" :show-confirm=\"false\"/>\n            <van-field required label=\"工作内容\" v-model=\"model.flowData.stationContent\" rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"工作内容\"/>\n            <van-field required label=\"工作地点\" v-model=\"model.flowData.stationLocation\" rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"工作地点\"/>\n            <van-field label=\"申请说明\" v-model=\"model.flowData.remarks\"  rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"申请说明\"/>\n            <!-- <van-field label=\"备注说明\" v-model=\"model.remarkContent\" rows=\"1\" autosize clearable type=\"textarea\" placeholder=\"其他说明\"/> -->\n            <van-button round block type=\"info\" native-type=\"submit\">\n                {{$route.path ==='/publishment' ? '确认提交' : '确认修改'}}\n            </van-button>\n        </van-form>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nexport default {\n    props: ['title','flowID','flowName'],\n    data() {\n        return {\n            studentType:0,\n            detail: {},\n            value1:'',\n            value2:'',\n            value3:'',\n            model: {\n                // flowId:'',  第一次发起申请的时候没有 不用填写这个\n                flowName:'',\n                procType:\"4\", // 4-用工申请 或者 5-工时申请\n                flowData:{\n                    termId:'2',\n                    stationType:'', //岗位类别，1-一般岗，4-助教岗，5-助管岗，如不选，默认为一般岗\n                    totalNum:'',  // 总人数上限\n                    nonpoorNum:'',\n                    otherDeptNum:'',\n                    remarks:'', // 申请说明信息\n                    stationName:'',\n                    // stationType:'', //工种 老师用工申请时必填\n                    // 注意这个是 写死了\n                    deptId:'', //申请老师部门\n                    total_num:'', //用工申请人数\n                    workStartTime:'',\n                    stationContent:'', // 用工内容\n                    stationLocation: '' //用工地点\n                },\n                \n            },\n            staffAuth1:'',\n            staffAuth2:'',\n            terms: [],\n            term: '',\n            termOptions: [],\n            //本科生 选择 的 岗位类型\n            stationTypes1:[\n                {text:'固定岗',value:\"1\"},\n                {text:'临时岗',value:\"2\"},\n                {text:'假期岗',value:\"3\"},\n                {text:'本科生助教',value:\"4\"},\n                ],\n            //研究生 选择 的 岗位类型\n            stationTypes2:[\n                {text:'固定岗',value:\"1\"},\n                {text:'临时岗',value:\"2\"},\n                {text:'假期岗',value:\"3\"},\n                ],\n            //研究生 可 选择的 岗位名称   研究生助教 研究生助管 研究生助研  研究生管理员\n            stationNames:[\n                {text:'研究生助教',value:\"1\"},\n                {text:'研究生助管',value:\"2\"},\n                {text:'研究生助研',value:\"3\"},\n                {text:'研究生管理员',value:\"4\"},\n            ],\n            deptType:'',\n            stationType: '',\n            jobCategory: ['固定岗','临时岗','假期岗','助教岗','研究生助教'],\n            showCalendar1: false,\n            showCalendar2: false,\n            showPicker: false,\n            showPicker1: false,\n            showPicker2: false,\n            showPickerStationName:false,\n            showPickerStationType1:false,\n            showPickerStationType2:false,\n            minDate: new Date(2020, 0, 1), // 测试日期 后端设置的测试日期范围 不在这个范围提交便会报错！\n            maxDate: new Date(2021, 11, 31), // 测试日期 后端设置的测试日期范围 不在这个范围提交便会报错！\n        }\n    },\n    components: {\n        TopNav\n    },\n    methods: {\n        getstaffAuths(){\n            // this.staffAuth1 = sessionStorage.getItem('staffAuth1')-0;\n            this.staffAuth1 = sessionStorage.getItem('staffAuth1').slice(1,2)-0;\n            // this.staffAuth2 = sessionStorage.getItem('staffAuth2')-0;\n            this.staffAuth2 = sessionStorage.getItem('staffAuth2').slice(1,2)-0;\n\n            this.deptType = sessionStorage.getItem('deptType').slice(1,2)-0;\n\n            // 0-部门，1-学院\n            console.log(this.deptType)\n            this.model.flowData.deptId = sessionStorage.getItem('deptId')-0;\n            console.log(\"deptId:\"+this.model.flowData.deptId)\n\n        },\n        onConfirmStart(date) {\n            this.model.flowData.workStartTime = this.formatMyDate(date)\n            this.showCalendar1 = false;\n        },\n        onConfirmEnd(date) {\n            this.model.workEndTime = this.formatMyDate(date)\n            this.showCalendar2 = false;\n        },\n        onConfirmJob(value,index) {\n            this.stationType = value\n            this.model.stationType = `${index + 1}`\n            this.showPicker = false\n        },\n        onConfirmTerm(value) {\n            this.value1 = value.text\n            this.model.flowData.termId = value.value\n            this.showPicker1 = false\n        },\n        onConfirmStationType(value) {\n            this.value2= value.text;\n            this.model.flowData.stationType = value.value\n            // console.log(\"index:\"+ value.text);\n            // console.log(\"index:\"+ value.value);\n            this.showPickerStationType1 = false\n            this.showPickerStationType2 = false\n        },\n        onConfirmStationName(value) {\n            this.value3= value.text ;\n            this.model.flowData.stationType = value.text ;\n            // console.log(\"index:\"+ value.text);\n            // console.log(\"index:\"+ value.value);\n            this.showPickerStationName = false\n        },\n        async onSubmit() {\n            var isEmplty = false\n            for(let key in this.model) {\n                if(key !== 'poorNum' && key!=='nonpoorNum' && key!=='otherDeptNum' && key!=='skillQeruire' && key!=='remarkContent') {\n                    if(!this.model[key]) {\n                        this.$toast.fail('必填项不能为空!!!')\n                        isEmplty = true\n                        break\n                    }\n                }\n            }\n            if(!isEmplty) {\n                var res\n\n                // 0-部门，1-学院\n                if(this.deptType === 0){\n                    this.model.flowData.otherDeptNum = this.model.flowData.total_num\n                }\n                //请求接口失败 之后再次提交 会有很多个 的用工申请 加到尾部 所以判断尾部如果是 的用工申请的 话就不再加了\n                var tempFlowName = this.model.flowName.slice(this.model.flowName.length-5,this.model.flowName.length)\n                console.log(tempFlowName);\n                if (tempFlowName !== \"的用工申请\") {\n                     this.model.flowName = this.model.flowName + \"的用工申请\";\n                }\n                 if(this.model.flowData.stationType == 4 )\n                    this.model.flowData.stationName = this.model.flowData.stationName + \"本科生助教\";\n\n                if(this.$route.path ==='/edit'){\n                    this.model.flowId = this.flowID;\n                    \n                     res = await this.$ajax.post('/system/flows/startFlow', this.model)\n                }else{\n                     res = await this.$ajax.post('/system/flows/startFlow', this.model)\n                }\n                // console.log(this.model.procType);\n\n\n                // if(this.model.procType == \"4\"){\n                //     console.log(123);\n                //     this.model.flowData.stationName = this.model.flowData.stationName.slice(0,(this.model.flowData.stationName.length-5));\n                //     this.model.flowName = this.model.flowName.slice(0,(this.model.flowName.length-5));\n                //     console.log(this.model.flowData.stationName)\n                //     // console.log(this.model.flowName)\n                // }\n\n                if(res.data.code === 200) {\n                    this.$toast.success(res.data.msg)\n                    this.$router.push('/publish')\n                }else {\n                    //修改了 失败时的提示信息 \n                    this.$toast.fail(res.data.msg)\n                }\n                \n            }\n        },\n        formatMyDate(date) {\n            let year = date.getFullYear()\n            let month = date.getMonth() + 1\n            month = month < 10 ? ('0' + month) : month\n            let d = date.getDate()\n            d = d < 10 ? ('0' + d) : d\n            return `${year}-${month}-${d}`\n        },\n        getTermOptions() {\n            const year = new Date().getFullYear()\n            if(new Date().getMonth() + 1< 9) {\n                const term = `${year -1}-${year}`\n                return [`${term}第一学期`, `${term}第二学期`]\n            } else {\n                const term = `${year}-${year + 1}`\n                return [`${term}第一学期`, `${term}第二学期`]\n            }\n        },\n\n        //任务详情\n        async getFlowDetail(flowId){\n            const res = await this.$ajax.get('/system/flows/queryFlowData',{params:{flowId : flowId}})\n                if(res.data.code === 200){\n                    this.model.procType = \"4\";\n                    this.model.flowData.termId = res.data.data.flowData.termId\n                    this.model.flowData.stationType = res.data.data.flowData.stationType \n                    this.model.flowData.total_num = res.data.data.flowData.totalNum\n                    this.model.flowData.nonpoorNum = res.data.data.flowData.nonpoorNum \n                    this.model.flowData.otherDeptNum = res.data.data.flowData.otherDeptNum\n                    this.model.flowData.remarks = res.data.data.flowData.remarks\n                    this.model.flowData.deptId = res.data.data.flowData.deptId\n                    this.model.flowData.workStartTime = res.data.data.flowData.workStartTime.slice(0,10);\n                    this.model.flowData.stationContent = res.data.data.flowData.stationContent\n                    this.model.flowData.stationLocation = res.data.data.flowData.stationLocation \n                    console.log(res.data.data);\n                }else{\n                    console.log(res.data.msg);\n                }\n        },\n        async getTermList(){\n            const res = await this.$ajax.get('/system/term/list')\n            if(res.data.code === 200){\n                console.log(res.data.rows)\n                res.data.rows.forEach(item => {\n                    var term ={\n                       text:'',\n                       value:'' \n                    }\n                    term.text = item.termName;\n                    term.value = item.termId;\n                    console.log(term);\n                    this.terms.push(term);\n                });\n            }\n        },\n    },\n   \n    mounted() {\n        this.getTermList();\n        this.getstaffAuths();\n        if(this.$route.path === '/edit'){\n                this.getFlowDetail(this.flowID);\n                this.model.flowName = this.flowName.slice(0,this.flowName.length-5);\n            }\n    }\n    \n}\n</script>\n\n<style scoped>\n.van-button {\n    width: 95%;\n    margin: 15px auto;\n}\n</style>"]}]}