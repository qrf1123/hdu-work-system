{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/user/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/user/Login.vue","mtime":1614696987516},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIFRvcE5hdgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBsb2dpbigpIHsKICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXNMb2dpbiA9IGF3YWl0IHRoaXMuJGFqYXgucG9zdCgnL2FwaUxvZ2luJyx0aGlzLm1vZGVsKQogICAgICAgICAgICAgICAgY29uc3QgcmVzTG9naW4gPSBhd2FpdCB0aGlzLiRhamF4LnBvc3QoJy9jb21tb24vYXBpTG9naW4nLHRoaXMubW9kZWwpCiAgICAgICAgICAgICAgICBpZihyZXNMb2dpbi5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc0xvZ2luLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyxyZXNMb2dpbi5kYXRhLnRva2VuKQogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwocmVzTG9naW4uZGF0YS5tc2cpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCByZXNJbmZvID0gYXdhaXQgdGhpcy4kYWpheC5nZXQoJy9jb21tb24vZ2V0SW5mbycpCiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXNJbmZvID0gYXdhaXQgdGhpcy4kYWpheC5nZXQoJy9nZXRJbmZvJykKICAgICAgICAgICAgICAgIGlmKHJlc0luZm8uZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNJbmZvLmRhdGEuZGF0YS5zdGFmZlR5cGUpOwogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3JvbGVzJywgSlNPTi5zdHJpbmdpZnkocmVzSW5mby5kYXRhLmRhdGEuc3RhZmZUeXBlKSkKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKHttZXNzYWdlOiAn55m76ZmG5oiQ5YqfJyxkdXJhdGlvbjogMTAwMH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgcm9sZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVzJykKICAgICAgICAgICAgICAgICAgICAvLyBpZihyb2xlICYmIHJvbGUuaW5jbHVkZXMoJ+WtpueUnycpKXsKICAgICAgICAgICAgICAgICAgICBpZihyb2xlICYmIHJvbGUuaW5jbHVkZXMoJzEnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZW1wbG95bWVudCcpCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocm9sZSAmJiByb2xlLmluY2x1ZGVzKCcyJykpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21lc3NhZ2UnKQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QuZmFpbCgn6KeS6Imy5LiN5a2Y5ZyoIScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwxMDAwKQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgn6K+35Yu+6YCJ6aOO6Zmp5ZGK55+l5LmmJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2hvd0Jvb2sgKCl7CiAgICAgICAgICAgIC8vIGxldCBhcnIgPSBbJ+a1i+ivleS4gCcsICfmtYvor5XkuownLCAn5rWL6K+V5LiJJ107CiAgICAgICAgICAgIC8vIGxldCBzdHIgPSBhcnIuam9pbignIDxici8+ICcpOwogICAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IHN0ciwKICAgICAgICAvLyAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIC8vIH0pOwogICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgdGl0bGU6ICfpo47pmanlkYrnn6XkuaYnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJyZlbXNwOyZlbXNwO+i/meWHoOWkqe+8jOS4reWbveeahOS4gOS6m+S4reWwj+WtpueUn+S7rOato+WcqOWIm+mAoOKAnOWlh+i/ueKAne+8jOWcqOaegeS4uuaciemZkOeahOWHoOWkqeaXtumXtOmHjOihpem9kOS4gOaVtOS4quWBh+acn+eahOS9nOS4mu+8jOi/meS5n+WboOatpOaIkOS6huS4jeWwkeS6uuS4jeaEv+mdouWvueW8gOWtpueahOeQhueUseS5i+S4gOOAgjwvYnI+JmVtc3A7JmVtc3A75LiN6L+H77yM5p2t5bee6JCn5bGx5Yy655qE5Lit5bCP5a2m55Sf5Lus5aWL56yU55a+5Lmm55qE5omL5Ly85LmO5Y+v5Lul5YGc5LiA5YGc44CCMjPml6XvvIzmna3lt57okKflsbHljLrmlZnogrLlsYDlj5HpgJrnn6Xnp7DvvIzlhajljLrkuK3lsI/lrabnlJ/lr5LlgYfkvZzkuJrkuI3kvZznoazmgKfop4Tlrprlv4XpobvlrozmiJDvvIzlhYHorrjlvIDlrablkI7lnKjmlZnluIjmjIflr7zmiJblkIzkvLTkupLliqnkuIvlu7bmnJ/lrozmiJDjgILntKfmjqXnnYDnrKzkuozlpKnvvIzlkozkvZzkuJrnm7jlhbPnmoTlj4jkuIDkuKror53popjkuZ/kuIrkuobng63mkJzjgILigJzlsI/lrabkuIDkuozlubTnuqfkuI3luIPnva7kuabpnaLlrrbluq3kvZzkuJrvvIzliJ3kuK3lrrbluq3kvZzkuJrlrozmiJDml7bpl7TkuI3otoXov4c5MOWIhumSn+KApuKApuKAnei3neemu+aYpeWto+Wtpuacn+W8gOWtpui/mOWJqeS4jeWIsOS4gOWRqOaXtumXtO+8jOmZleilv+ecgeaVmeiCsuWOhTIz5pel5Y2w5Y+R55qE44CK6ZmV6KW/55yB5LmJ5Yqh5pWZ6IKy5a2m5qCh6K++56iL5LiO5pWZ5a2m566h55CG5oyH5Y2X44CL5byV6LW3572R5Y+L5YWz5rOo44CC5paH5Lu25LiN5LuF57uZ5a625bqt5L2c5Lia5YiS5a6a4oCc57qi57q/4oCd77yM6L+Y5piO56Gu4oCc5pWZ5biI5LiN5b6X55u05o6l5oiW5Y+Y55u46KaB5rGC5a2m55Sf5a626ZW/5Luj5Li66K+E5pS55L2c5Lia4oCd44CC5LuK5bm0MuaciDIz5pel5pWZ6IKy6YOo5Y+s5byA55qE5Y+R5biD5Lya5LiK5Lmf5by66LCD77yM5LiN5b6X57uZ5a626ZW/5biD572u5oiW5Y+Y55u45biD572u5L2c5Lia77yM5LiN5b6X6KaB5rGC5a626ZW/5qOA5p+l44CB5om55pS55L2c5Lia44CC6L+Z5oqK5bm/5aSn5a626ZW/5LuO5pS55L2c5Lia55qE4oCc6Ium5rW34oCd5Lit6Kej5pWR5LqG5Ye65p2l77yM6KKr5LiA5Lqb572R5Y+L6KeG5Li657uZ5a626ZW/5ZKM5a2m55Sf55qE4oCc5byA5a2m56aP5Yip4oCd44CC5LiN5LuF5aaC5q2k77yM5pWZ6IKy6YOo6L+Y6KaB5rGC5ZCE5Zyw6KaB5o+Q6auY6K++5ZCO5pyN5Yqh5rC05bmz77yM5q+P5Liq5a2m5qCh6YO96KaB5YGa6LW35p2l77yM5Zyo5pe26Ze05a6J5o6S5LiK77yM6KaB5LiO5b2T5Zyw5q2j5bi45LiL54+t5pe26Ze055u46KGU5o6l77yM5YiH5a6e6Kej5Yaz5a626ZW/5o6l5a2m55Sf5Zuw6Zq+6Zeu6aKY44CC5Y2z5bCG5LuO5Y6L5Yqb5Lit4oCc6Kej5pS+4oCd55qE5a2m55Sf5ZKM5a626ZW/5Lus77yM5Zyo6L+O5o6l5paw5a2m5pyf5Yiw5p2l5pe277yM5oOz5b+F5Lya6L275p2+5LiN5bCR44CCJywKICAgICAgICAgICAgICAgIG1lc3NhZ2VBbGlnbjonbGVmdCcKICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"login\">\n        <top-nav title=\"登录\" :isShow=\"false\" />\n        <div class=\"logo\">\n            <img src=\"@/assets/image/logo-hdu.png\" alt=\"logo for school\" />\n            <span>杭州电子科技大学</span>\n        </div>\n        <van-form @submit=\"login\">\n            <van-field :border=\"false\" v-model=\"model.username\" label=\"用户名\" placeholder=\"请输入学号/工号\" left-icon=\"user-o\" clearable/>\n            <van-field :border=\"false\" v-model=\"model.password\" type=\"password\" placeholder=\"请输入密码\" label=\"密码\" left-icon=\"lock\" clearable/>\n            <div class=\"checked\">\n                <a>忘记密码？</a>\n                <van-checkbox v-model=\"checked\" shape=\"square\"><a @click=\"showBook\">风险告知书</a></van-checkbox>\n            </div>\n            <van-button round block color=\"rgb(81, 125, 252)\" native-type=\"submit\">\n                登录\n            </van-button>\n        </van-form>\n\n      \n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nexport default {\n    data() {\n        return {\n            model: {\n                username: '',\n                password: ''\n            },\n            checked: false\n        }\n    },\n    components: {\n        TopNav\n    },\n    methods: {\n        async login() {\n            if(this.checked) {\n                // const resLogin = await this.$ajax.post('/apiLogin',this.model)\n                const resLogin = await this.$ajax.post('/common/apiLogin',this.model)\n                if(resLogin.data.code === 200) {\n                    console.log(resLogin.data.token);\n                    sessionStorage.setItem('token',resLogin.data.token)\n                }else {\n                    this.$toast.fail(resLogin.data.msg)\n                }\n                const resInfo = await this.$ajax.get('/common/getInfo')\n                // const resInfo = await this.$ajax.get('/getInfo')\n                if(resInfo.data.code === 200) {\n                    console.log(resInfo.data.data.staffType);\n                    sessionStorage.setItem('roles', JSON.stringify(resInfo.data.data.staffType))\n                    this.$toast.success({message: '登陆成功',duration: 1000})\n                }\n                setTimeout(() => {\n                    let role = sessionStorage.getItem('roles')\n                    // if(role && role.includes('学生')){\n                    if(role && role.includes('1')){\n                        this.$router.push('/employment')\n                    }else if(role && role.includes('2')){\n                        this.$router.push('/message')\n                    }else {\n                        this.$toast.fail('角色不存在!')\n                    }\n                },1000)\n            }else {\n                this.$toast('请勾选风险告知书')\n            }\n        },\n        showBook (){\n            // let arr = ['测试一', '测试二', '测试三'];\n            // let str = arr.join(' <br/> ');\n        //     this.$message({\n        //         message: str,\n        //         type: 'warning'\n        // });\n            this.$dialog.alert({\n                dangerouslyUseHTMLString: true,\n                title: '风险告知书',\n                message: '&emsp;&emsp;这几天，中国的一些中小学生们正在创造“奇迹”，在极为有限的几天时间里补齐一整个假期的作业，这也因此成了不少人不愿面对开学的理由之一。</br>&emsp;&emsp;不过，杭州萧山区的中小学生们奋笔疾书的手似乎可以停一停。23日，杭州萧山区教育局发通知称，全区中小学生寒假作业不作硬性规定必须完成，允许开学后在教师指导或同伴互助下延期完成。紧接着第二天，和作业相关的又一个话题也上了热搜。“小学一二年级不布置书面家庭作业，初中家庭作业完成时间不超过90分钟……”距离春季学期开学还剩不到一周时间，陕西省教育厅23日印发的《陕西省义务教育学校课程与教学管理指南》引起网友关注。文件不仅给家庭作业划定“红线”，还明确“教师不得直接或变相要求学生家长代为评改作业”。今年2月23日教育部召开的发布会上也强调，不得给家长布置或变相布置作业，不得要求家长检查、批改作业。这把广大家长从改作业的“苦海”中解救了出来，被一些网友视为给家长和学生的“开学福利”。不仅如此，教育部还要求各地要提高课后服务水平，每个学校都要做起来，在时间安排上，要与当地正常下班时间相衔接，切实解决家长接学生困难问题。即将从压力中“解放”的学生和家长们，在迎接新学期到来时，想必会轻松不少。',\n                messageAlign:'left'\n                }).then(() => {\n                // on close\n                });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .logo {\n        text-align: center;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n    .logo img {\n        height: 130px;\n        width: 130px;\n        border-radius: 50%;\n        margin-top: 50px;\n    }\n    .logo span {\n        font-size: 14px;\n        margin-top: 10px;\n        margin-bottom: 30px;\n    }\n\n    .van-form {\n        padding: 0 20px;\n    }\n    .van-form .van-field {\n        margin-bottom: 10px;\n        border: 1px solid #eee;\n        border-radius: 3px;\n    }\n    .checked {\n        color: #323233;\n        display: flex;\n        justify-content: space-between;\n        padding: 10px 5px;\n        font-size: 14px;\n    }\n</style>"]}]}