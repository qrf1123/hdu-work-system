{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/HourDetail.vue?vue&type=style&index=0&id=5624f6a7&scoped=true&lang=css&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/HourDetail.vue","mtime":1616816914396},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxpc3QgLnZhbi1jaGVja2JveCB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwp9Ci5kYXRlU2VsZWN0IHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgcGFkZGluZzogMTBweCAzMHB4Owp9Ci5kYXRlU2VsZWN0IC52YW4tZmllbGQgewogICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfQouZGF0ZVNlbGVjdCAudmFuLWZpZWxkPj4+LnZhbi1pY29uIHsKICAgIGNvbG9yOiByZ2IoODEsIDEyNSwgMjUyKTsKfQouZGF0ZVNlbGVjdCAudmFuLWZpZWxkOmZpcnN0LWNoaWxkIHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KLmluZm8gcCB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBjb2xvcjogIzU1NTsKfQoubGlzdCsudmFuLWNlbGwgewogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBib3R0b206IDA7Cn0K"},{"version":3,"sources":["HourDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HourDetail.vue","sourceRoot":"src/views/student/checkWork","sourcesContent":["<template>\n    <div class=\"confirm\">\n        <top-nav title=\"工时明细\" :isShow=\"true\" />\n        <div class=\"dateSelect\">\n            <!-- <van-field  :border=\"false\" label=\"查询岗位\" right-icon=\"calender-o\" readonly clickable  name=\"stationId\" :value=\"stationId\" placeholder=\"请选择查询岗位\" @click=\"showStationId = true\"/>\n            <van-picker v-model=\"showStationId\" title=\"查询岗位\"  :columns=\"columns\" @confirm=\"onConfirmStationId\" /> -->\n            <van-dropdown-menu>\n                <van-dropdown-item v-model=\"stationId\" :options=\"option1\" />\n            </van-dropdown-menu>\n            <van-field :border=\"false\" label=\"起始日期\" right-icon=\"calender-o\" readonly clickable name=\"calendar\" :value=\"model.startDate\"  placeholder=\"点击选择日期\" @click=\"showCalendar1 = true\" />\n            <van-calendar v-model=\"showCalendar1\" @confirm=\"onConfirmStart\" :min-date=\"minDate\" :max-date=\"maxDate\"/>\n            <van-field :border=\"false\" label=\"终止日期\" right-icon=\"calender-o\" readonly clickable name=\"calendar\" :value=\"model.endDate\"  placeholder=\"点击选择日期\" @click=\"showCalendar2 = true\" />\n            <van-calendar v-model=\"showCalendar2\" @confirm=\"onConfirmEnd\" :min-date=\"minDate\" :max-date=\"maxDate\"/>\n        </div>\n        <ul class=\"list\">\n            <van-checkbox-group ref=\"checkGroup\" v-model=\"result\">\n            <list-layout v-for=\"item in hoursList\" :key=\"item\" :firstLayout=\"1\">\n                <van-icon name=\"contact\" size=\"40\" color=\"rgb(81, 125, 252)\" slot=\"left-icon\" />\n                <div slot=\"content\">\n                    <h4>工作日期：{{item.workDate}}</h4>\n                    <div class=\"info\">\n                        <p>工作时长：{{item.workMinutes}}min</p>\n                        <p>确认状态：{{item.comfirmStatus}}</p>\n                        <p>确认工时：{{item.comfirmMinutes}}min({{(item.comfirmMinutes/60).toFixed(1)}}h)</p>\n                    </div>\n                </div>\n                <!-- <div slot=\"right\">\n                    <span class=\"date\">{{item.updateTime}}</span>\n                    <van-button disabled size=\"mini\" color=\"rgb(81, 125, 252)\">已确认</van-button>\n                </div> -->\n            </list-layout>\n            <!-- <list-layout  :firstLayout=\"1\">\n                <van-icon name=\"contact\" size=\"40\" color=\"rgb(81, 125, 252)\" dot slot=\"left-icon\" />\n                <van-checkbox name=\"1\" slot=\"left-icon\"></van-checkbox>\n                <div slot=\"content\">\n                    <h4>哈哈哈</h4>\n                    <div class=\"info\">\n                        <p>开始时间：13:00</p>\n                        <p>结束时间：15:00</p>\n                        <p>工时：2h</p>\n                    </div>\n                </div>\n                <div slot=\"right\">\n                    <span class=\"date\">2020-06-14</span>\n                    <van-button size=\"mini\" color=\"rgb(81, 125, 252)\">提醒</van-button>\n                </div>\n            </list-layout>\n            <list-layout :firstLayout=\"1\">\n                <van-icon name=\"contact\" size=\"40\" color=\"rgb(81, 125, 252)\" dot slot=\"left-icon\" />\n                <van-checkbox name=\"2\" slot=\"left-icon\"></van-checkbox>\n                <div slot=\"content\">\n                    <h4>哈哈哈</h4>\n                    <div class=\"info\">\n                        <p>开始时间：13:00</p>\n                        <p>结束时间：15:00</p>\n                        <p>工时：2h</p>\n                    </div>\n                </div>\n                <div slot=\"right\">\n                    <span class=\"date\">2020-06-14</span>\n                    <van-button size=\"mini\" color=\"rgb(81, 125, 252)\">提醒</van-button>\n                </div>\n            </list-layout> -->\n            </van-checkbox-group>\n        </ul>\n        <!-- <van-cell clickable @click=\"handleSelectAll\"> -->\n        <van-cell title=\"\" clickable >\n            <!-- <van-checkbox v-model=\"checked\">全选</van-checkbox> -->\n            <template #right-icon>\n                <van-button color=\"rgb(81, 125, 252)\" size=\"mini\" @click=\"searchHoursDetail()\">查询</van-button>\n            </template>\n        </van-cell>\n    </div>\n</template>\n\n<script>\n// 注：这个模块接口有问题，没有功能\nimport TopNav from '@/components/common/TopNav.vue'\nimport ListLayout from '@/components/common/ListLayout.vue'\nexport default {\n    data() {\n        return {\n            model: {\n                startDate: '',\n                endDate: ''\n                \n            },\n            // value1: 0,\n            option1: [\n                // { text: '选择部门',value : 0},\n                { text: '杭电', value: 1 },\n                { text: '计算机学院', value: 2 },\n                { text: '图书馆', value: 3 },\n            ],\n            showCalendar1: false,\n            showCalendar2: false,\n            checked: false,\n            result: [],\n            hoursList:'',\n            showStationId:false,\n            stationId : 1,\n            // 这个后续再改正吧\n            minDate: new Date(2020, 0, 1),\n            maxDate: new Date(2030, 0, 31),\n        }\n    },\n    components: {\n        TopNav,\n        ListLayout\n    },\n    methods: {\n        getHoursList(){\n            this.hoursList = this.$route.query.hoursList;\n            // console.log(this.hoursList);\n            // console.log(this.$route.query.hoursList);\n        },\n        async searchHoursDetail(){\n            const res = await this.$ajax.get('/system/api/student/workHoursRecords',\n            {params :{\n                // 开始时间和结束时间还没有传进来\n                //stationId 也有问题\n                //id 是什么还没弄清楚\n                searchStartDate : this.model.startDate,\n                searchEndDate : this.model.endDate,\n                stationId : this.stationId,\n                // \"id\" : \"19051101\"\n            }}\n            )\n            console.log(res.data);\n            this.hoursList = res.data;\n            this.hoursList.forEach(item => {\n                // if(item.updateTime){\n                //     item.updateTime = item.updateTime.slice(0,10);\n                // }else{\n                //     item.updateTime = item.createTime.slice(0,10);\n                // }\n                switch (item.comfirmStatus) {\n                    case \"0\":\n                        item.comfirmStatus = \"未确认\"\n                        break;\n                    case \"1\":\n                        item.comfirmStatus = \"用工老师已确认\"\n                        break;\n                    case \"2\":\n                        item.comfirmStatus = \"审批中\"\n                        break;\n                    case \"3\":\n                        item.comfirmStatus = \"审批通过确认\"\n                        break;\n                    default:\n                        break;\n                }\n            });\n\n        },\n        onConfirmStart(date) {\n            this.model.startDate = `${date.getFullYear()}-${(date.getMonth() + 1)>9?(date.getMonth() + 1):'0'+(date.getMonth() + 1)}-${(date.getDate())>9?(date.getDate()):'0'+(date.getDate())}`;\n            this.showCalendar1 = false;\n        },\n        onConfirmEnd(date) {\n            this.model.endDate = `${date.getFullYear()}-${(date.getMonth() + 1)>9?(date.getMonth() + 1):'0'+(date.getMonth() + 1)}-${(date.getDate())>9?(date.getDate()):'0'+(date.getDate())}`;\n            // this.model.endDate = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n            this.showCalendar2 = false;\n        },\n        // handleSelectAll(e) {\n        //     let className = e.target.className\n        //     if(className.includes('van-checkbox') || className.includes('van-icon-success')) {\n        //         if(!this.checked) {\n        //             this.$refs.checkGroup.toggleAll(true);\n        //         }else {\n        //             this.$refs.checkGroup.toggleAll(false);\n        //         }\n        //     }else if(className.includes('van-button')) {\n        //         this.$dialog.confirm({\n        //             message: '确定一键提醒吗？'\n        //         }).then(() => {\n        //             console.log(this.result)\n        //         }).catch(() => {})\n        //     }\n        // },\n        // async getList() {\n        //     // param测试使用的\n        //     const param = {beginDate: '2020-04-01', endDate: '2021-01-01'}\n        //     const res = await this.$ajax.get('/system/hours/workHoursStatics',{params: param})\n        //     console.log(res.data)\n        //     if(res.data.code === 200) {\n        //         this.list = res.data.data\n        //     }\n        // }\n    },\n    mounted() {\n        // this.getList() //接口有错。。。\n        // this.getHoursList();\n    }\n}\n</script>\n\n<style scoped>\n    .list .van-checkbox {\n        margin-left: 10px;\n        overflow: visible;\n    }\n    .dateSelect {\n        margin-bottom: 10px;\n        background-color: #fff;\n        padding: 10px 30px;\n    }\n    .dateSelect .van-field {\n        border: 1px solid #eee;\n        border-radius: 5px;\n    }\n    .dateSelect .van-field>>>.van-icon {\n        color: rgb(81, 125, 252);\n    }\n    .dateSelect .van-field:first-child {\n        margin-bottom: 10px;\n    }\n    .info p {\n        font-size: 14px;\n        color: #555;\n    }\n    .list+.van-cell {\n        border-top: 1px solid #eee;\n        position: fixed;\n        bottom: 0;\n    }\n</style>"]}]}