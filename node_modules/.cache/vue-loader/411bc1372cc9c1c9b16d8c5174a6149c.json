{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue?vue&type=style&index=0&id=00dfcfa0&scoped=true&lang=css&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue","mtime":1605768204000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNpZ25Gb3JtIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMjBweDsKfQouc2lnbkZvcm0gaDQgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoudmFuLWZvcm0gLnZhbi1maWVsZCB7CiAgICB0ZXh0LWFsaWduOiBsZWZ0Owp9Ci52YW4tZm9ybSAudmFuLWJ1dHRvbiB7CiAgICB3aWR0aDogOTAlOwogICAgbWFyZ2luOiAxNXB4IGF1dG8gMDsKfQoudmFuLWZpZWxkID4+PiAudmFuLWljb24gewogICAgY29sb3I6IHJnYig4MSwgMTI1LCAyNTIpOwp9Cg=="},{"version":3,"sources":["Resign.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Resign.vue","sourceRoot":"src/views/student/checkWork","sourcesContent":["<template>\n    <div class=\"resign\">\n        <top-nav title=\"补签\" :isShow=\"true\" />\n        <clock />\n        <div class=\"signForm\">\n            <h4>补签</h4>\n            <van-form @submit=\"resign\">\n                <van-field right-icon=\"calender-o\"\n                readonly\n                clickable\n                name=\"datetimePicker\"\n                :value=\"model.signinTime\"\n                label=\"签到补录\"\n                placeholder=\"签到补录时间\"\n                @click=\"showPicker1 = true\"/>\n                <van-popup v-model=\"showPicker1\" position=\"bottom\">\n                    <van-datetime-picker\n                    type=\"datetime\"\n                    title=\"年-月-日-时-分\"\n                    :min-date=\"new Date(2020, 0, 1)\"\n                    @confirm=\"onConfirmStart\"\n                    @cancel=\"showPicker1 = false\"/>\n                </van-popup>\n                <van-field\n                right-icon=\"calender-o\"\n                readonly\n                clickable\n                name=\"datetimePicker\"\n                :value=\"model.signoutTime\"\n                label=\"签退补录\"\n                placeholder=\"签退补录时间\"\n                @click=\"showPicker2 = true\"/>\n                <van-popup v-model=\"showPicker2\" position=\"bottom\">\n                    <van-datetime-picker\n                    type=\"datetime\"\n                    title=\"年-月-日-时-分\"\n                    :min-date=\"new Date(2020, 0, 1)\"\n                    @confirm=\"onConfirmEnd\"\n                    @cancel=\"showPicker2 = false\"/>\n                </van-popup>\n                <van-field\n                label=\"补签原因\"\n                v-model=\"model.remarkContent\"\n                placeholder=\"请输入原因\" />\n                <van-button round block color=\"rgb(81, 125, 252)\" native-type=\"submit\">\n                    提交\n                </van-button>\n            </van-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nimport Clock from '@/components/common/Clock.vue'\nfunction formatDate(timeStamp) {\n    var date = new Date(timeStamp)\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    month = month > 9 ? month : '0' + month\n    let day = date.getDate()\n    day = day > 9 ? day : '0' + day\n    let hour = date.getHours()\n    hour = hour > 9 ? hour : '0' + hour\n    let minute = date.getMinutes()\n    minute = minute > 9 ? minute : '0' + minute\n    let second = date.getSeconds()\n    second = second > 9 ? second : '0' + second\n    return `${year}-${month}-${day}T${hour}:${minute}:${second}`\n\n}\nexport default {\n    data() {\n        return {\n            model: {\n                signinTime:'',\n                signoutTime: '',\n                remarkContent: ''\n            },\n            showPicker1: false,\n            showPicker2: false,\n        }\n    },\n    components: {\n        TopNav,\n        Clock\n    },\n    methods: {\n        async resign() {\n            this.model.stationId = parseInt(this.$route.query.stationId)\n            console.log(this.model)\n            const res = await this.$ajax.post('/system/hours/resign', this.model)\n            console.log(res.data)\n            if(res.data.code === 200) {\n                this.$toast(res.data.msg)\n                for(let key in this.model) {\n                    this.model[key] = ''\n                }\n            }else {\n                this.$toast('补签失败，请稍后重试')\n            }\n        },\n        onConfirmStart(time) {\n            const timeStamp = time.getTime()\n            this.model.signinTime = formatDate(timeStamp)\n            this.showPicker1 = false;\n        },\n        onConfirmEnd(time) {\n            const timeStamp = time.getTime()\n            this.model.signoutTime = formatDate(timeStamp)\n            this.showPicker2 = false;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .signForm {\n        background-color: white;\n        padding: 20px;\n    }\n    .signForm h4 {\n        text-align: center;\n        margin-bottom: 10px;\n    }\n    .van-form .van-field {\n        text-align: left;\n    }\n    .van-form .van-button {\n        width: 90%;\n        margin: 15px auto 0;\n    }\n    .van-field >>> .van-icon {\n        color: rgb(81, 125, 252);\n    }\n</style>"]}]}