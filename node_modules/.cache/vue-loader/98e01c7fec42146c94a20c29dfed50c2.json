{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/admission/StudentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/admission/StudentDetail.vue","mtime":1618477172000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0dWRlbnRJbmZvOiB7fSwKICAgICAgICAgICAgaXRlbTp7fQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVG9wTmF2CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGhhbmRsZVJlbGVhc2VBcHBseUpvYihpZCl7CiAgICAgICAgICAgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS51c2VyLmlkCiAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kYWpheC5wb3N0KCcvc3lzdGVtL2FwaS90ZWFjaGVyL3JlbGVhc2VBcHBseUpvYicse2lkOmlkfSkKICAgICAgICAgICBpZihyZXMuZGF0YS5jb2RlID09PSAyMDApewogICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgi6Kej6IGY5oiQ5YqfIikKICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pc3Npb24iKQogICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgi6Kej6IGY5aSx6LSlIikKICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVFbXBsb3koaWQpIHsKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmNvbmZpcm0oewogICAgICAgICAgICAgICAgdGl0bGU6ICfnoa7orqTlvZXlj5YnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ehruiupOW9leWPluivpeWtpueUn+WQl++8nycsCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS51c2VyLmlkCiAgICAgICAgICAgICAgICB0aGlzLiRhamF4LnBvc3QoJy9zeXN0ZW0vYXBpL3RlYWNoZXIvL2NvbW1pdEFwcGx5Sm9iJyx7aWQ6aWR9KS50aGVuKChyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZGF0YS5tc2cpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRtaXNzaW9uIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBvbiBjYW5jZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRTdHVkZW50SW5mbygpIHsKICAgICAgICAgICAgY29uc3Qgc3RhZmZJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXIuc3RhZmZJZAogICAgICAgICAgICB0aGlzLml0ZW0gPSB0aGlzLiRyb3V0ZS5xdWVyeS51c2VyCiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFqYXguZ2V0KCcvc3lzdGVtL2FwaS90ZWFjaGVyL3F1ZXJ5U3R1ZGVudEluZm8nLHtwYXJhbXM6IHtzdGFmZklkOiBzdGFmZklkfX0pCiAgICAgICAgICAgIGlmKHJlcykgewogICAgICAgICAgICAgICAgdGhpcy5zdHVkZW50SW5mbyA9IHJlcy5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdHVkZW50SW5mbykKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldFN0dWRlbnRJbmZvKCkKICAgIH0KfQo="},{"version":3,"sources":["StudentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentDetail.vue","sourceRoot":"src/views/teacher/admission","sourcesContent":["<template>\n    <div class=\"employment\">\n        <top-nav v-if=\"item.offerState === '1' ? true:false\" title=\"学生详情\" :isShow=\"true\" />\n        <top-nav v-if=\"item.offerState === '0' ? true:false\" title=\"学生应聘详情\" :isShow=\"true\" />\n        <div class=\"detail\">\n            <h4>{{studentInfo.nickname}}</h4>\n            <table >\n                <tr>\n                    <td >学号:</td>\n                    <td>{{studentInfo.staffId}}</td>\n                </tr>\n                <tr>\n                    <td>性别:</td>\n                    <td>{{studentInfo.sex === \"0\"?\"男\":\"女\"}}</td>\n                </tr>\n                <tr>\n                    <td>学院:</td>\n                    <td>计算机学院</td>\n                </tr>\n                <tr>\n                    <td>电话号码：</td>\n                    <td>{{studentInfo.phonenumber ? studentInfo.phonenumber : '暂未填写'}}</td>\n                </tr>\n                <tr>\n                    <td>邮件：</td>\n                    <td>{{studentInfo.email ? studentInfo.email : '暂未填写'}}</td>\n                </tr>\n                <tr>\n                    <td style=\"width:70px\" v-if=\"item.offerState === '0' ? true:false\">应聘岗位：</td>\n                    <td v-if=\"item.offerState === '1' ? true:false\">已在岗位：</td>\n                    <td v-if=\"(item.offerState !== '0') && (item.offerState !== '1')?true:false\">岗位名称：</td>\n                    <td>{{this.$route.query.user.stationName}}</td>\n                </tr>\n                <tr>\n                    <td>空闲时间：</td>\n                    <td>{{this.$route.query.user.remarkContent ? this.$route.query.user.remarkContent : '暂未填写'}}</td>\n                </tr>\n            </table>\n            <van-button  v-if=\"item.offerState === '0' ? true:false\" color=\"rgb(81, 125, 252)\" size=\"small\" type=\"info\" @click=\"handleEmploy()\">录用</van-button>\n            <van-button  v-if=\"item.offerState === '1' ? true:false\" color=\"rgb(81, 125, 252)\" size=\"small\" type=\"info\" @click=\"handleReleaseApplyJob()\">解聘</van-button>\n            <van-button disabled v-if=\"(item.offerState !== '0') && (item.offerState !== '1')?true:false\"  size=\"small\" color=\"rgb(81, 125, 252)\">{{item.offerState}}</van-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nexport default {\n    data() {\n        return {\n            studentInfo: {},\n            item:{}\n        }\n    },\n    components: {\n        TopNav\n    },\n    methods: {\n        async handleReleaseApplyJob(id){\n           id = this.$route.query.user.id\n           const res = await this.$ajax.post('/system/api/teacher/releaseApplyJob',{id:id})\n           if(res.data.code === 200){\n               this.$toast(\"解聘成功\")\n               this.$router.push(\"/admission\")\n           }else{\n               this.$toast(\"解聘失败\")\n           }\n        },\n        handleEmploy(id) {\n            this.$dialog.confirm({\n                title: '确认录取',\n                message: '确认录取该学生吗？',\n            }).then(() => {\n                id = this.$route.query.user.id\n                this.$ajax.post('/system/api/teacher//commitApplyJob',{id:id}).then((res => {\n                    if(res.data.code === 200) {\n                        this.$toast(res.data.msg)\n                        this.$router.push(\"/admission\")\n                    }\n                })).catch(err => {\n                    console.log(err)\n                })\n            }).catch(() => {\n                // on cancel\n            });\n        },\n        async getStudentInfo() {\n            const staffId = this.$route.query.user.staffId\n            this.item = this.$route.query.user\n            const res = await this.$ajax.get('/system/api/teacher/queryStudentInfo',{params: {staffId: staffId}})\n            if(res) {\n                this.studentInfo = res.data\n            }\n            console.log(this.studentInfo)\n        }\n    },\n    mounted() {\n        this.getStudentInfo()\n    }\n}\n</script>\n\n<style scoped>\n    .detail {\n        overflow: hidden;\n        width: 90%;\n        margin: 10px auto;\n        background-color: #fff;\n        border: 1px solid #eee;\n        padding: 20px;\n        box-sizing: border-box;\n    }\n    h4 {\n        margin-bottom: 10px;\n    }\n    tr {\n        font-size: 14px;\n        height: 35px;\n        color: #444;\n    }\n    tr td:first-child {\n        width: 40%;\n    }\n    .van-button {\n        float: right;\n        margin: 10px 10px;\n    }\n</style>"]}]}