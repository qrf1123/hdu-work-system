{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/user/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/user/Login.vue","mtime":1620197850718},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIFRvcE5hdgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBsb2dpbigpIHsKICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXNMb2dpbiA9IGF3YWl0IHRoaXMuJGFqYXgucG9zdCgnL2FwaUxvZ2luJyx0aGlzLm1vZGVsKQogICAgICAgICAgICAgICAgY29uc3QgcmVzTG9naW4gPSBhd2FpdCB0aGlzLiRhamF4LnBvc3QoJy9jb21tb24vYXBpTG9naW4nLHRoaXMubW9kZWwpCiAgICAgICAgICAgICAgICBpZihyZXNMb2dpbi5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc0xvZ2luLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyxyZXNMb2dpbi5kYXRhLnRva2VuKQogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwocmVzTG9naW4uZGF0YS5tc2cpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCByZXNJbmZvID0gYXdhaXQgdGhpcy4kYWpheC5nZXQoJy9jb21tb24vZ2V0SW5mbycpCiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXNJbmZvID0gYXdhaXQgdGhpcy4kYWpheC5nZXQoJy9nZXRJbmZvJykKICAgICAgICAgICAgICAgIGlmKHJlc0luZm8uZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNJbmZvLmRhdGEuZGF0YS5zdGFmZlR5cGUpOwogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3JvbGVzJywgSlNPTi5zdHJpbmdpZnkocmVzSW5mby5kYXRhLmRhdGEuc3RhZmZUeXBlKSkKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzdGFmZkF1dGgxJywgSlNPTi5zdHJpbmdpZnkocmVzSW5mby5kYXRhLmRhdGEuc3RhZmZBdXRoMSkpCiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc3RhZmZBdXRoMicsIEpTT04uc3RyaW5naWZ5KHJlc0luZm8uZGF0YS5kYXRhLnN0YWZmQXV0aDIpKQogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3N0YWZmUGFzcycsIEpTT04uc3RyaW5naWZ5KHJlc0luZm8uZGF0YS5kYXRhLnN0YWZmUGFzcykpCiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZGVwdElkJywgSlNPTi5zdHJpbmdpZnkocmVzSW5mby5kYXRhLmRhdGEuZGVwdElkKSkKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdkZXB0VHlwZScsIEpTT04uc3RyaW5naWZ5KHJlc0luZm8uZGF0YS5kZXB0VHlwZSkpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2Vzcyh7bWVzc2FnZTogJ+eZu+mZhuaIkOWKnycsZHVyYXRpb246IDEwMDB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJvbGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb2xlcycpCiAgICAgICAgICAgICAgICAgICAgLy8gaWYocm9sZSAmJiByb2xlLmluY2x1ZGVzKCflrabnlJ8nKSl7CiAgICAgICAgICAgICAgICAgICAgaWYocm9sZSAmJiByb2xlLmluY2x1ZGVzKCcxJyB8fCAnMycpKXsgLy8xLeacrOenkeeUnyAzLeeglOeptueUnwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2VtcGxveW1lbnQnKQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJvbGUgJiYgcm9sZS5pbmNsdWRlcygnMicpKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tZXNzYWdlJykKICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwoJ+inkuiJsuS4jeWtmOWcqCEnKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sMTAwMCkKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoJ+ivt+WLvumAiea4qemmqOaPkOekuicpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNob3dCb29rICgpewogICAgICAgICAgICAvLyBsZXQgYXJyID0gWyfmtYvor5XkuIAnLCAn5rWL6K+V5LqMJywgJ+a1i+ivleS4iSddOwogICAgICAgICAgICAvLyBsZXQgc3RyID0gYXJyLmpvaW4oJyA8YnIvPiAnKTsKICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOiBzdHIsCiAgICAgICAgLy8gICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAvLyB9KTsKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHRpdGxlOiAn5rip6aao5o+Q56S6JywKICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2U6ICcmZW1zcDsmZW1zcDvov5nlh6DlpKnvvIzkuK3lm73nmoTkuIDkupvkuK3lsI/lrabnlJ/ku6zmraPlnKjliJvpgKDigJzlpYfov7nigJ3vvIzlnKjmnoHkuLrmnInpmZDnmoTlh6DlpKnml7bpl7Tph4zooaXpvZDkuIDmlbTkuKrlgYfmnJ/nmoTkvZzkuJrvvIzov5nkuZ/lm6DmraTmiJDkuobkuI3lsJHkurrkuI3mhL/pnaLlr7nlvIDlrabnmoTnkIbnlLHkuYvkuIDjgII8L2JyPiZlbXNwOyZlbXNwO+S4jei/h++8jOadreW3nuiQp+WxseWMuueahOS4reWwj+WtpueUn+S7rOWli+eslOeWvuS5pueahOaJi+S8vOS5juWPr+S7peWBnOS4gOWBnOOAgjIz5pel77yM5p2t5bee6JCn5bGx5Yy65pWZ6IKy5bGA5Y+R6YCa55+l56ew77yM5YWo5Yy65Lit5bCP5a2m55Sf5a+S5YGH5L2c5Lia5LiN5L2c56Gs5oCn6KeE5a6a5b+F6aG75a6M5oiQ77yM5YWB6K645byA5a2m5ZCO5Zyo5pWZ5biI5oyH5a+85oiW5ZCM5Ly05LqS5Yqp5LiL5bu25pyf5a6M5oiQ44CC57Sn5o6l552A56ys5LqM5aSp77yM5ZKM5L2c5Lia55u45YWz55qE5Y+I5LiA5Liq6K+d6aKY5Lmf5LiK5LqG54Ot5pCc44CC4oCc5bCP5a2m5LiA5LqM5bm057qn5LiN5biD572u5Lmm6Z2i5a625bqt5L2c5Lia77yM5Yid5Lit5a625bqt5L2c5Lia5a6M5oiQ5pe26Ze05LiN6LaF6L+HOTDliIbpkp/igKbigKbigJ3ot53nprvmmKXlraPlrabmnJ/lvIDlrabov5jliankuI3liLDkuIDlkajml7bpl7TvvIzpmZXopb/nnIHmlZnogrLljoUyM+aXpeWNsOWPkeeahOOAiumZleilv+ecgeS5ieWKoeaVmeiCsuWtpuagoeivvueoi+S4juaVmeWtpueuoeeQhuaMh+WNl+OAi+W8lei1t+e9keWPi+WFs+azqOOAguaWh+S7tuS4jeS7hee7meWutuW6reS9nOS4muWIkuWumuKAnOe6oue6v+KAne+8jOi/mOaYjuehruKAnOaVmeW4iOS4jeW+l+ebtOaOpeaIluWPmOebuOimgeaxguWtpueUn+WutumVv+S7o+S4uuivhOaUueS9nOS4muKAneOAguS7iuW5tDLmnIgyM+aXpeaVmeiCsumDqOWPrOW8gOeahOWPkeW4g+S8muS4iuS5n+W8uuiwg++8jOS4jeW+l+e7meWutumVv+W4g+e9ruaIluWPmOebuOW4g+e9ruS9nOS4mu+8jOS4jeW+l+imgeaxguWutumVv+ajgOafpeOAgeaJueaUueS9nOS4muOAgui/meaKiuW5v+Wkp+WutumVv+S7juaUueS9nOS4mueahOKAnOiLpua1t+KAneS4reino+aVkeS6huWHuuadpe+8jOiiq+S4gOS6m+e9keWPi+inhuS4uue7meWutumVv+WSjOWtpueUn+eahOKAnOW8gOWtpuemj+WIqeKAneOAguS4jeS7heWmguatpO+8jOaVmeiCsumDqOi/mOimgeaxguWQhOWcsOimgeaPkOmrmOivvuWQjuacjeWKoeawtOW5s++8jOavj+S4quWtpuagoemDveimgeWBmui1t+adpe+8jOWcqOaXtumXtOWuieaOkuS4iu+8jOimgeS4juW9k+WcsOato+W4uOS4i+ePreaXtumXtOebuOihlOaOpe+8jOWIh+Wunuino+WGs+WutumVv+aOpeWtpueUn+WbsOmavumXrumimOOAguWNs+WwhuS7juWOi+WKm+S4reKAnOino+aUvuKAneeahOWtpueUn+WSjOWutumVv+S7rO+8jOWcqOi/juaOpeaWsOWtpuacn+WIsOadpeaXtu+8jOaDs+W/heS8mui9u+advuS4jeWwkeOAgicsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5oyJ54Wn5pWZ6IKy6YOo5paH5Lu277yM5a2m55Sf5Y+C5Yqg5Yuk5bel5Yqp5a2m55qE5bel5L2c5pe26Ze077yM5LiA5Liq5pyI5Y6f5YiZ5LiK5LiN6IO96LaF6L+HNDDkuKrlsI/ml7bjgII8L2JyPjwvYnI+6K+35ZCM5a2m5Lus5Y+K5pe255Sz5oql44CB5qC45a6e6Ieq5bex55qE5bel5pe25pWw44CCPC9icj48L2JyPuivt+eUqOW3pemDqOmXqOWPiuaXtuWuoeaguOeUqOW3peaDheWGtScsCiAgICAgICAgICAgICAgICBtZXNzYWdlQWxpZ246J2xlZnQnCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"login\">\n        <top-nav title=\"登录\" :isShow=\"false\" />\n        <div class=\"logo\">\n            <img src=\"@/assets/image/logo-hdu.png\" alt=\"logo for school\" />\n            <span>杭州电子科技大学</span>\n        </div>\n        <van-form @submit=\"login\">\n            <van-field :border=\"false\" v-model=\"model.username\" label=\"用户名\" placeholder=\"请输入学号/工号\" left-icon=\"user-o\" clearable/>\n            <van-field :border=\"false\" v-model=\"model.password\" type=\"password\" placeholder=\"请输入密码\" label=\"密码\" left-icon=\"lock\" clearable/>\n            <div class=\"checked\">\n                <a>忘记密码？</a>\n                <van-checkbox v-model=\"checked\" shape=\"square\"><a @click=\"showBook\">温馨提示</a></van-checkbox>\n            </div>\n            <van-button round block color=\"rgb(81, 125, 252)\" native-type=\"submit\">\n                登录\n            </van-button>\n        </van-form>\n\n      \n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nexport default {\n    data() {\n        return {\n            model: {\n                username: '',\n                password: ''\n            },\n            checked: false\n        }\n    },\n    components: {\n        TopNav\n    },\n    methods: {\n        async login() {\n            if(this.checked) {\n                // const resLogin = await this.$ajax.post('/apiLogin',this.model)\n                const resLogin = await this.$ajax.post('/common/apiLogin',this.model)\n                if(resLogin.data.code === 200) {\n                    console.log(resLogin.data.token);\n                    sessionStorage.setItem('token',resLogin.data.token)\n                }else {\n                    this.$toast.fail(resLogin.data.msg)\n                }\n                const resInfo = await this.$ajax.get('/common/getInfo')\n                // const resInfo = await this.$ajax.get('/getInfo')\n                if(resInfo.data.code === 200) {\n                    console.log(resInfo.data.data.staffType);\n                    sessionStorage.setItem('roles', JSON.stringify(resInfo.data.data.staffType))\n                    sessionStorage.setItem('staffAuth1', JSON.stringify(resInfo.data.data.staffAuth1))\n                    sessionStorage.setItem('staffAuth2', JSON.stringify(resInfo.data.data.staffAuth2))\n                    sessionStorage.setItem('staffPass', JSON.stringify(resInfo.data.data.staffPass))\n                    sessionStorage.setItem('deptId', JSON.stringify(resInfo.data.data.deptId))\n                    sessionStorage.setItem('deptType', JSON.stringify(resInfo.data.deptType))\n                    this.$toast.success({message: '登陆成功',duration: 1000})\n                }\n                setTimeout(() => {\n                    let role = sessionStorage.getItem('roles')\n                    // if(role && role.includes('学生')){\n                    if(role && role.includes('1' || '3')){ //1-本科生 3-研究生\n                        this.$router.push('/employment')\n                    }else if(role && role.includes('2')){\n                        this.$router.push('/message')\n                    }else {\n                        this.$toast.fail('角色不存在!')\n                    }\n                },1000)\n            }else {\n                this.$toast('请勾选温馨提示')\n            }\n        },\n        showBook (){\n            // let arr = ['测试一', '测试二', '测试三'];\n            // let str = arr.join(' <br/> ');\n        //     this.$message({\n        //         message: str,\n        //         type: 'warning'\n        // });\n            this.$dialog.alert({\n                dangerouslyUseHTMLString: true,\n                title: '温馨提示',\n                // message: '&emsp;&emsp;这几天，中国的一些中小学生们正在创造“奇迹”，在极为有限的几天时间里补齐一整个假期的作业，这也因此成了不少人不愿面对开学的理由之一。</br>&emsp;&emsp;不过，杭州萧山区的中小学生们奋笔疾书的手似乎可以停一停。23日，杭州萧山区教育局发通知称，全区中小学生寒假作业不作硬性规定必须完成，允许开学后在教师指导或同伴互助下延期完成。紧接着第二天，和作业相关的又一个话题也上了热搜。“小学一二年级不布置书面家庭作业，初中家庭作业完成时间不超过90分钟……”距离春季学期开学还剩不到一周时间，陕西省教育厅23日印发的《陕西省义务教育学校课程与教学管理指南》引起网友关注。文件不仅给家庭作业划定“红线”，还明确“教师不得直接或变相要求学生家长代为评改作业”。今年2月23日教育部召开的发布会上也强调，不得给家长布置或变相布置作业，不得要求家长检查、批改作业。这把广大家长从改作业的“苦海”中解救了出来，被一些网友视为给家长和学生的“开学福利”。不仅如此，教育部还要求各地要提高课后服务水平，每个学校都要做起来，在时间安排上，要与当地正常下班时间相衔接，切实解决家长接学生困难问题。即将从压力中“解放”的学生和家长们，在迎接新学期到来时，想必会轻松不少。',\n                message: '按照教育部文件，学生参加勤工助学的工作时间，一个月原则上不能超过40个小时。</br></br>请同学们及时申报、核实自己的工时数。</br></br>请用工部门及时审核用工情况',\n                messageAlign:'left'\n                }).then(() => {\n                // on close\n                });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .logo {\n        text-align: center;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n    .logo img {\n        height: 130px;\n        width: 130px;\n        border-radius: 50%;\n        margin-top: 50px;\n    }\n    .logo span {\n        font-size: 14px;\n        margin-top: 10px;\n        margin-bottom: 30px;\n    }\n\n    .van-form {\n        padding: 0 20px;\n    }\n    .van-form .van-field {\n        margin-bottom: 10px;\n        border: 1px solid #eee;\n        border-radius: 3px;\n    }\n    .checked {\n        color: #323233;\n        display: flex;\n        justify-content: space-between;\n        padding: 10px 5px;\n        font-size: 14px;\n    }\n</style>"]}]}