{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/admission/Admission.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/teacher/admission/Admission.vue","mtime":1605768204000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jaGVucml4aW4vSERVV29ya1N0dWR5L01vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBUb3BOYXYgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Ub3BOYXYudnVlJzsKaW1wb3J0IEJvdHRvbU5hdiBmcm9tICdAL2NvbXBvbmVudHMvdGVhY2hlci9Cb3R0b21OYXYudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXN1bHQ6IFtdLAogICAgICBsaXN0OiBbXSwKICAgICAgY2hlY2tlZDogZmFsc2UsCiAgICAgIGFjdGl2ZU5hbWVzOiBbJyddCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgVG9wTmF2OiBUb3BOYXYsCiAgICBCb3R0b21OYXY6IEJvdHRvbU5hdgogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2VsZWN0QWxsOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RBbGwoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNsYXNzTmFtZSA9IGUudGFyZ2V0LmNsYXNzTmFtZTsKCiAgICAgIGlmIChjbGFzc05hbWUuaW5jbHVkZXMoJ3Zhbi1jaGVja2JveCcpIHx8IGNsYXNzTmFtZS5pbmNsdWRlcygndmFuLWljb24tc3VjY2VzcycpKSB7CiAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy4kcmVmcy5jaGVja2JveEdyb3VwLnRvZ2dsZUFsbChmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJlZnMuY2hlY2tib3hHcm91cC50b2dnbGVBbGwodHJ1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZS5pbmNsdWRlcygndmFuLWJ1dHRvbicpKSB7CiAgICAgICAgdGhpcy4kZGlhbG9nLmNvbmZpcm0oewogICAgICAgICAgbWVzc2FnZTogJ+ehruWumuS4gOmUruW9leWPlumAieS4reWtpueUn+WQl++8nycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBvYmogPSBfdGhpcy50cmFuc2xhdGVUb09iaihfdGhpcy5yZXN1bHQpOwoKICAgICAgICAgIHZhciBhcnIgPSBfdGhpcy50cmFuc2xhdGVUb0FycihvYmopOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGFycik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRW1wbG95OiBmdW5jdGlvbiBoYW5kbGVFbXBsb3koYXBwbHlJZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1N0dWRlbnREZXRhaWwnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgYXBwbHlJZDogYXBwbHlJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTWFudWFsOiBmdW5jdGlvbiBoYW5kbGVNYW51YWwoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbWFudWFsRGVhbCcpOwogICAgfSwKICAgIGdldEVtcGxveUxpc3RzOiBmdW5jdGlvbiBnZXRFbXBsb3lMaXN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhamF4LmdldCgnL2FwaS9zdGF0aW9uL215U3RhdGlvbk1hbmFnZW1lbnQnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5saXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIubGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0cmFuc2xhdGVUb09iajogZnVuY3Rpb24gdHJhbnNsYXRlVG9PYmooYXJyKSB7CiAgICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cikgewogICAgICAgIHZhciBzcGxpdERhdGEgPSBjdXIuc3BsaXQoJywnKTsKICAgICAgICB2YXIgc3RhdGlvbklkLCBhcHBseUlkOwogICAgICAgIHN0YXRpb25JZCA9IHBhcnNlSW50KHNwbGl0RGF0YVswXSk7CiAgICAgICAgYXBwbHlJZCA9IHBhcnNlSW50KHNwbGl0RGF0YVsxXSk7CgogICAgICAgIGlmIChzdGF0aW9uSWQgaW4gYWNjKSB7CiAgICAgICAgICBhY2Nbc3RhdGlvbklkXS5wdXNoKGFwcGx5SWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhY2Nbc3RhdGlvbklkXSA9IFthcHBseUlkXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sIHt9KTsKICAgIH0sCiAgICB0cmFuc2xhdGVUb0FycjogZnVuY3Rpb24gdHJhbnNsYXRlVG9BcnIob2JqKSB7CiAgICAgIHZhciBkYXRhID0gW107CgogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICAgIHJlc3VsdC5zdGF0aW9uSWQgPSBwYXJzZUludChrZXkpOwogICAgICAgIHJlc3VsdC5hcHBseUlkID0gb2JqW2tleV07CiAgICAgICAgZGF0YS5wdXNoKHJlc3VsdCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGdldEVtcG9seVN0YXR1czogZnVuY3Rpb24gZ2V0RW1wb2x5U3RhdHVzKCkge30KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEVtcGxveUxpc3RzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Admission.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"admission\">\n        <top-nav title=\"录取管理\" :isShow=\"false\" />\n        <van-collapse v-model=\"activeNames\">\n            <van-checkbox-group ref=\"checkboxGroup\" v-model=\"result\">\n            <van-collapse-item v-for=\"(item,index) in list\" :key=\"index\" :name=\"index + 1\">\n                <template #title>\n                    <div class=\"title\">\n                        <div>\n                            <span></span>\n                            <h4>{{item.stationSubject}}</h4>\n                            <span>{{item.publishDate}}</span>\n                        </div>\n                        <p>\n                            <span>所需人数：{{item.commitNum}}/{{item.totalNum}}人</span>\n                        </p>\n                    </div>\n                </template>\n                    <ul class=\"studentList\">\n                        <li>\n                            <van-button color=\"rgb(81, 125, 252)\" @click=\"handleManual\" size=\"mini\">添加学生</van-button>\n                        </li>\n                        <li v-for=\"employeeStudent in item.employeeStudentVoList\" :key=\"employeeStudent.applyId\">\n                            <van-checkbox :disabled=\"employeeStudent.stateCode !== '0'\" :name=\"item.id+','+employeeStudent.applyIid\">{{employeeStudent.studentName}}</van-checkbox>\n                            <van-button color=\"rgb(81, 125, 252)\" @click=\"handleEmploy(employeeStudent.applyIid)\" size=\"mini\" plain>{{employeeStudent.state}}</van-button>\n                        </li>\n                    </ul>\n            </van-collapse-item>\n            </van-checkbox-group>\n        </van-collapse>\n        <van-cell @click=\"handleSelectAll\" clickable>\n            <van-checkbox v-model=\"checked\">全选</van-checkbox>\n            <template #right-icon>\n                <van-button color=\"rgb(81, 125, 252)\" size=\"mini\">一键录取</van-button>\n            </template>\n        </van-cell>\n        <bottom-nav :active=\"2\"/>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nimport BottomNav from '@/components/teacher/BottomNav.vue'\nexport default {\n    data() {\n        return {\n            result: [],\n            list: [],\n            checked: false,\n            activeNames: [''],\n        };\n    },\n    components: {\n        TopNav,\n        BottomNav\n    },\n    methods: {\n        handleSelectAll(e) {\n            let className = e.target.className\n            if(className.includes('van-checkbox') || className.includes('van-icon-success')) {\n                if(this.checked) {\n                    this.$refs.checkboxGroup.toggleAll(false);\n                }else {\n                    this.$refs.checkboxGroup.toggleAll(true);\n                }\n            }else if(className.includes('van-button')) {\n                this.$dialog.confirm({\n                    message: '确定一键录取选中学生吗？'\n                }).then(() => {\n                    const obj = this.translateToObj(this.result)\n                    const arr = this.translateToArr(obj)\n                    console.log(arr)\n                }).catch(() => {})\n            }\n        },\n        handleEmploy(applyId) {\n            this.$router.push({name: 'StudentDetail', params: {applyId: applyId}})\n        },\n        handleManual() {\n            this.$router.push('/manualDeal')\n        },\n        async getEmployLists() {\n            const res = await this.$ajax.get('/api/station/myStationManagement')\n            if(res.data.code === 200) {\n                this.list = res.data.data\n            }\n            console.log(this.list)\n        },\n        translateToObj(arr) {\n            return arr.reduce((acc,cur) => {\n            let splitData = cur.split(',')\n            let stationId, applyId\n            stationId = parseInt(splitData[0])\n            applyId = parseInt(splitData[1])\n            if(stationId in acc) {\n                acc[stationId].push(applyId)\n            }else {\n                acc[stationId] = [applyId]\n            }\n            return acc\n        },{})\n        },\n        translateToArr(obj) {\n            const data = []\n            for(let key in obj) {\n                let result = {}\n                result.stationId = parseInt(key)\n                result.applyId = obj[key]\n                data.push(result)\n            }\n            return data\n        },\n        getEmpolyStatus() {\n\n        }\n    },\n    mounted() {\n        this.getEmployLists()\n    }\n}\n</script>\n\n\n<style scoped>\n    .admission {\n        padding-bottom: 100px;\n    }\n    .title div {\n        position: relative;\n        display: flex;\n        align-items: center;\n    }\n    .van-cell\n    .title div h4 {\n        margin-left: 15px;\n        width: 60%;\n    }\n    .van-collapse-item >>> .van-cell__right-icon {\n        position: absolute;\n        right: 8px;\n        color: #969799;\n    }\n    .title div span:nth-child(1) {\n        position: absolute;\n        top: 6px;\n        background-color: rgb(81, 125, 252);\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n    }\n    .title div span:nth-child(3) {\n        font-size: 12px;\n        color: #666;\n        position: absolute;\n        right: 12px;\n        top: 1px;\n    }\n    .title p {\n        margin-left: 20px;\n        color: #555;\n    }\n    ul li {\n        display: flex;\n        height: 35px;\n        justify-content: space-between;\n        align-items: center;\n    }\n    .van-cell {\n        border-top: 1px solid #eee;\n        position: fixed;\n        bottom: 49px;\n    }\n</style>"],"sourceRoot":"src/views/teacher/admission"}]}