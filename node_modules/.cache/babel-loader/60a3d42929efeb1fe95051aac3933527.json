{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue","mtime":1618574926364},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NoZW5yaXhpbi9IRFVXb3JrU3R1ZHkvTW9iaWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRvcE5hdiBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL1RvcE5hdi52dWUnOwppbXBvcnQgQ2xvY2sgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DbG9jay52dWUnOwoKZnVuY3Rpb24gZm9ybWF0RGF0ZSh0aW1lU3RhbXApIHsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVTdGFtcCk7CiAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICBtb250aCA9IG1vbnRoID4gOSA/IG1vbnRoIDogJzAnICsgbW9udGg7CiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpOwogIGRheSA9IGRheSA+IDkgPyBkYXkgOiAnMCcgKyBkYXk7CiAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7CiAgaG91ciA9IGhvdXIgPiA5ID8gaG91ciA6ICcwJyArIGhvdXI7CiAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpOwogIG1pbnV0ZSA9IG1pbnV0ZSA+IDkgPyBtaW51dGUgOiAnMCcgKyBtaW51dGU7CiAgdmFyIHNlY29uZCA9IGRhdGUuZ2V0U2Vjb25kcygpOwogIHNlY29uZCA9IHNlY29uZCA+IDkgPyBzZWNvbmQgOiAnMCcgKyBzZWNvbmQ7CiAgcmV0dXJuICIiLmNvbmNhdCh5ZWFyLCAiLSIpLmNvbmNhdChtb250aCwgIi0iKS5jb25jYXQoZGF5LCAiVCIpLmNvbmNhdChob3VyLCAiOiIpLmNvbmNhdChtaW51dGUsICI6IikuY29uY2F0KHNlY29uZCk7Cn0KCmZ1bmN0aW9uIGZvcm1hdFdvcmtEYXRlKHRpbWVTdGFtcCkgewogIHZhciBkYXRlID0gbmV3IERhdGUodGltZVN0YW1wKTsKICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxOwogIG1vbnRoID0gbW9udGggPiA5ID8gbW9udGggOiAnMCcgKyBtb250aDsKICB2YXIgZGF5ID0gZGF0ZS5nZXREYXRlKCk7CiAgZGF5ID0gZGF5ID4gOSA/IGRheSA6ICcwJyArIGRheTsKICByZXR1cm4gIiIuY29uY2F0KHllYXIsICItIikuY29uY2F0KG1vbnRoLCAiLSIpLmNvbmNhdChkYXkpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v562+5YiwCiAgICAgIG1vZGVsMTogewogICAgICAgIC8vIOivt+axguaVsOaNrueahOWPguaVsOeci+S4jeaYjueZvQogICAgICAgIHN0YXRpb25JZDogJycsCiAgICAgICAgd29ya0RhdGU6ICcnLAogICAgICAgIHNpZ25UaW1lOiAnJywKICAgICAgICBzaWduU3RhdHVzOiAiMSIsCiAgICAgICAgcmVzaWduU3RhdHVzOiAiMSIKICAgICAgfSwKICAgICAgLy/nrb7pgIAKICAgICAgbW9kZWwyOiB7CiAgICAgICAgLy8g6K+35rGC5pWw5o2u55qE5Y+C5pWw55yL5LiN5piO55m9CiAgICAgICAgc3RhdGlvbklkOiAnJywKICAgICAgICB3b3JrRGF0ZTogJycsCiAgICAgICAgc2lnblRpbWU6ICcnLAogICAgICAgIHNpZ25TdGF0dXM6ICIyIiwKICAgICAgICByZXNpZ25TdGF0dXM6ICIxIgogICAgICB9LAogICAgICBzaG93UGlja2VyMTogZmFsc2UgLy8gc2hvd1BpY2tlcjI6IGZhbHNlLAogICAgICAvLyBzaWduVGltZTonJywKICAgICAgLy8gc3RhdGlvbklkOicnCgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFRvcE5hdjogVG9wTmF2LAogICAgQ2xvY2s6IENsb2NrCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNpZ246IGZ1bmN0aW9uIHJlc2lnbihzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMubW9kZWwxLnN0YXRpb25JZCA9IHBhcnNlSW50KF90aGlzLiRyb3V0ZS5xdWVyeS5zdGF0aW9uSWQpOwogICAgICAgICAgICAgICAgX3RoaXMubW9kZWwyLnN0YXRpb25JZCA9IHBhcnNlSW50KF90aGlzLiRyb3V0ZS5xdWVyeS5zdGF0aW9uSWQpOwogICAgICAgICAgICAgICAgcmVzID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKCEocyA9PT0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhamF4LnBvc3QoJy9zeXN0ZW0vYXBpL3N0dWRlbnQvc2lnbkluT3V0JywgX3RoaXMubW9kZWwxKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCEocyA9PT0gMikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFqYXgucG9zdCgnL3N5c3RlbS9hcGkvc3R1ZGVudC9zaWduSW5PdXQnLCBfdGhpcy5tb2RlbDIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNvbmZpcm1TdGFydDogZnVuY3Rpb24gb25Db25maXJtU3RhcnQodGltZSkgewogICAgICB2YXIgdGltZVN0YW1wID0gdGltZS5nZXRUaW1lKCk7CiAgICAgIHRoaXMubW9kZWwxLnNpZ25UaW1lID0gZm9ybWF0RGF0ZSh0aW1lU3RhbXApOwogICAgICB0aGlzLm1vZGVsMS53b3JrRGF0ZSA9IGZvcm1hdFdvcmtEYXRlKHRpbWVTdGFtcCk7CiAgICAgIHRoaXMubW9kZWwyLnNpZ25UaW1lID0gZm9ybWF0RGF0ZSh0aW1lU3RhbXApOwogICAgICB0aGlzLm1vZGVsMi53b3JrRGF0ZSA9IGZvcm1hdFdvcmtEYXRlKHRpbWVTdGFtcCk7CiAgICAgIHRoaXMuc2hvd1BpY2tlcjEgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Resign.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"resign\">\n        <top-nav title=\"补签\" :isShow=\"true\" />\n        <clock />\n        <div class=\"signForm\">\n            <h4>补签</h4>\n            <van-form >\n                <van-field right-icon=\"calender-o\"\n                readonly\n                clickable\n                name=\"datetimePicker\"\n                :value=\"this.model1.signTime\"\n                label=\"签到签退补录\"\n                placeholder=\"签到签退补录时间\"\n                @click=\"showPicker1 = true\"/>\n\n                <van-popup v-model=\"showPicker1\" position=\"bottom\">\n                    <van-datetime-picker\n                    type=\"datetime\"\n                    title=\"年-月-日-时-分\"\n                    :min-date=\"new Date(2020, 0, 1)\"\n                    @confirm=\"onConfirmStart\"\n                    @cancel=\"showPicker1 = false\"/>\n                </van-popup>\n\n                \n            </van-form>\n            <van-button round  color=\"rgb(81, 125, 252)\" size=\"mini\" style=\"width:100px;height : 30px\" @click=\"resign(1)\">\n                    补签到\n                </van-button>\n                <van-button round  color=\"rgb(81, 125, 252)\" size=\"mini\" style=\"width:100px;height : 30px\" @click=\"resign(2)\">\n                    补签退\n                </van-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nimport Clock from '@/components/common/Clock.vue'\nfunction formatDate(timeStamp) {\n    var date = new Date(timeStamp)\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    month = month > 9 ? month : '0' + month\n    let day = date.getDate()\n    day = day > 9 ? day : '0' + day\n    let hour = date.getHours()\n    hour = hour > 9 ? hour : '0' + hour\n    let minute = date.getMinutes()\n    minute = minute > 9 ? minute : '0' + minute\n    let second = date.getSeconds()\n    second = second > 9 ? second : '0' + second\n    return `${year}-${month}-${day}T${hour}:${minute}:${second}`\n\n}\nfunction formatWorkDate(timeStamp){\n    var date = new Date(timeStamp)\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    month = month > 9 ? month : '0' + month\n    let day = date.getDate()\n    day = day > 9 ? day : '0' + day\n    return `${year}-${month}-${day}`\n}\nexport default {\n    data() {\n        return {\n            //签到\n            model1: {\n                // 请求数据的参数看不明白\n                stationId:'',\n                workDate:'',\n                signTime:'',\n                signStatus:\"1\",\n                resignStatus:\"1\"\n            },\n            //签退\n            model2: {\n                // 请求数据的参数看不明白\n                stationId:'',\n                workDate:'',\n                signTime:'',\n                signStatus:\"2\",\n                resignStatus:\"1\"\n            },\n            showPicker1: false,\n            // showPicker2: false,\n            // signTime:'',\n            // stationId:''\n        }\n    },\n    components: {\n        TopNav,\n        Clock\n    },\n    methods: {\n        async resign(s) {\n            this.model1.stationId = parseInt(this.$route.query.stationId)\n            this.model2.stationId = parseInt(this.$route.query.stationId)\n            var res = ''\n            if(s === 1){\n                res = await this.$ajax.post('/system/api/student/signInOut', this.model1)\n                // console.log(res.data)\n            }\n            if(s === 2){\n                 res = await this.$ajax.post('/system/api/student/signInOut', this.model2)\n            }\n            if(res.data.code === 200) {\n                this.$toast(res.data.msg)\n               \n            }else {\n                this.$toast(res.data.msg)\n            }\n        },\n        onConfirmStart(time) {\n            const timeStamp = time.getTime()\n            this.model1.signTime = formatDate(timeStamp)\n            this.model1.workDate = formatWorkDate(timeStamp)\n            this.model2.signTime = formatDate(timeStamp)\n            this.model2.workDate = formatWorkDate(timeStamp)\n            this.showPicker1 = false;\n        },\n    }\n}\n</script>\n\n<style scoped>\n    .signForm {\n        background-color: white;\n        padding: 20px;\n    }\n    .signForm h4 {\n        text-align: center;\n        margin-bottom: 10px;\n    }\n    .van-form .van-field {\n        text-align: left;\n    }\n    .van-form .van-button {\n        width: 90%;\n        margin: 15px auto 0;\n    }\n    .van-field >>> .van-icon {\n        color: rgb(81, 125, 252);\n    }\n</style>"],"sourceRoot":"src/views/student/checkWork"}]}