{"remainingRequest":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/src/views/student/checkWork/Resign.vue","mtime":1605768204000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenrixin/HDUWorkStudy/Mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NoZW5yaXhpbi9IRFVXb3JrU3R1ZHkvTW9iaWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRvcE5hdiBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL1RvcE5hdi52dWUnOwppbXBvcnQgQ2xvY2sgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DbG9jay52dWUnOwoKZnVuY3Rpb24gZm9ybWF0RGF0ZSh0aW1lU3RhbXApIHsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVTdGFtcCk7CiAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICBtb250aCA9IG1vbnRoID4gOSA/IG1vbnRoIDogJzAnICsgbW9udGg7CiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpOwogIGRheSA9IGRheSA+IDkgPyBkYXkgOiAnMCcgKyBkYXk7CiAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7CiAgaG91ciA9IGhvdXIgPiA5ID8gaG91ciA6ICcwJyArIGhvdXI7CiAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpOwogIG1pbnV0ZSA9IG1pbnV0ZSA+IDkgPyBtaW51dGUgOiAnMCcgKyBtaW51dGU7CiAgdmFyIHNlY29uZCA9IGRhdGUuZ2V0U2Vjb25kcygpOwogIHNlY29uZCA9IHNlY29uZCA+IDkgPyBzZWNvbmQgOiAnMCcgKyBzZWNvbmQ7CiAgcmV0dXJuICIiLmNvbmNhdCh5ZWFyLCAiLSIpLmNvbmNhdChtb250aCwgIi0iKS5jb25jYXQoZGF5LCAiVCIpLmNvbmNhdChob3VyLCAiOiIpLmNvbmNhdChtaW51dGUsICI6IikuY29uY2F0KHNlY29uZCk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHsKICAgICAgICBzaWduaW5UaW1lOiAnJywKICAgICAgICBzaWdub3V0VGltZTogJycsCiAgICAgICAgcmVtYXJrQ29udGVudDogJycKICAgICAgfSwKICAgICAgc2hvd1BpY2tlcjE6IGZhbHNlLAogICAgICBzaG93UGlja2VyMjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBUb3BOYXY6IFRvcE5hdiwKICAgIENsb2NrOiBDbG9jawogIH0sCiAgbWV0aG9kczogewogICAgcmVzaWduOiBmdW5jdGlvbiByZXNpZ24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIGtleTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5zdGF0aW9uSWQgPSBwYXJzZUludChfdGhpcy4kcm91dGUucXVlcnkuc3RhdGlvbklkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLm1vZGVsKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhamF4LnBvc3QoJy9zeXN0ZW0vaG91cnMvcmVzaWduJywgX3RoaXMubW9kZWwpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KHJlcy5kYXRhLm1zZyk7CgogICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBfdGhpcy5tb2RlbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsW2tleV0gPSAnJzsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCfooaXnrb7lpLHotKXvvIzor7fnqI3lkI7ph43or5UnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uQ29uZmlybVN0YXJ0OiBmdW5jdGlvbiBvbkNvbmZpcm1TdGFydCh0aW1lKSB7CiAgICAgIHZhciB0aW1lU3RhbXAgPSB0aW1lLmdldFRpbWUoKTsKICAgICAgdGhpcy5tb2RlbC5zaWduaW5UaW1lID0gZm9ybWF0RGF0ZSh0aW1lU3RhbXApOwogICAgICB0aGlzLnNob3dQaWNrZXIxID0gZmFsc2U7CiAgICB9LAogICAgb25Db25maXJtRW5kOiBmdW5jdGlvbiBvbkNvbmZpcm1FbmQodGltZSkgewogICAgICB2YXIgdGltZVN0YW1wID0gdGltZS5nZXRUaW1lKCk7CiAgICAgIHRoaXMubW9kZWwuc2lnbm91dFRpbWUgPSBmb3JtYXREYXRlKHRpbWVTdGFtcCk7CiAgICAgIHRoaXMuc2hvd1BpY2tlcjIgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Resign.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"resign\">\n        <top-nav title=\"补签\" :isShow=\"true\" />\n        <clock />\n        <div class=\"signForm\">\n            <h4>补签</h4>\n            <van-form @submit=\"resign\">\n                <van-field right-icon=\"calender-o\"\n                readonly\n                clickable\n                name=\"datetimePicker\"\n                :value=\"model.signinTime\"\n                label=\"签到补录\"\n                placeholder=\"签到补录时间\"\n                @click=\"showPicker1 = true\"/>\n                <van-popup v-model=\"showPicker1\" position=\"bottom\">\n                    <van-datetime-picker\n                    type=\"datetime\"\n                    title=\"年-月-日-时-分\"\n                    :min-date=\"new Date(2020, 0, 1)\"\n                    @confirm=\"onConfirmStart\"\n                    @cancel=\"showPicker1 = false\"/>\n                </van-popup>\n                <van-field\n                right-icon=\"calender-o\"\n                readonly\n                clickable\n                name=\"datetimePicker\"\n                :value=\"model.signoutTime\"\n                label=\"签退补录\"\n                placeholder=\"签退补录时间\"\n                @click=\"showPicker2 = true\"/>\n                <van-popup v-model=\"showPicker2\" position=\"bottom\">\n                    <van-datetime-picker\n                    type=\"datetime\"\n                    title=\"年-月-日-时-分\"\n                    :min-date=\"new Date(2020, 0, 1)\"\n                    @confirm=\"onConfirmEnd\"\n                    @cancel=\"showPicker2 = false\"/>\n                </van-popup>\n                <van-field\n                label=\"补签原因\"\n                v-model=\"model.remarkContent\"\n                placeholder=\"请输入原因\" />\n                <van-button round block color=\"rgb(81, 125, 252)\" native-type=\"submit\">\n                    提交\n                </van-button>\n            </van-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TopNav from '@/components/common/TopNav.vue'\nimport Clock from '@/components/common/Clock.vue'\nfunction formatDate(timeStamp) {\n    var date = new Date(timeStamp)\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    month = month > 9 ? month : '0' + month\n    let day = date.getDate()\n    day = day > 9 ? day : '0' + day\n    let hour = date.getHours()\n    hour = hour > 9 ? hour : '0' + hour\n    let minute = date.getMinutes()\n    minute = minute > 9 ? minute : '0' + minute\n    let second = date.getSeconds()\n    second = second > 9 ? second : '0' + second\n    return `${year}-${month}-${day}T${hour}:${minute}:${second}`\n\n}\nexport default {\n    data() {\n        return {\n            model: {\n                signinTime:'',\n                signoutTime: '',\n                remarkContent: ''\n            },\n            showPicker1: false,\n            showPicker2: false,\n        }\n    },\n    components: {\n        TopNav,\n        Clock\n    },\n    methods: {\n        async resign() {\n            this.model.stationId = parseInt(this.$route.query.stationId)\n            console.log(this.model)\n            const res = await this.$ajax.post('/system/hours/resign', this.model)\n            console.log(res.data)\n            if(res.data.code === 200) {\n                this.$toast(res.data.msg)\n                for(let key in this.model) {\n                    this.model[key] = ''\n                }\n            }else {\n                this.$toast('补签失败，请稍后重试')\n            }\n        },\n        onConfirmStart(time) {\n            const timeStamp = time.getTime()\n            this.model.signinTime = formatDate(timeStamp)\n            this.showPicker1 = false;\n        },\n        onConfirmEnd(time) {\n            const timeStamp = time.getTime()\n            this.model.signoutTime = formatDate(timeStamp)\n            this.showPicker2 = false;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .signForm {\n        background-color: white;\n        padding: 20px;\n    }\n    .signForm h4 {\n        text-align: center;\n        margin-bottom: 10px;\n    }\n    .van-form .van-field {\n        text-align: left;\n    }\n    .van-form .van-button {\n        width: 90%;\n        margin: 15px auto 0;\n    }\n    .van-field >>> .van-icon {\n        color: rgb(81, 125, 252);\n    }\n</style>"],"sourceRoot":"src/views/student/checkWork"}]}