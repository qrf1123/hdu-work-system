(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ec4202e"],{"159b":function(t,e,n){var a=n("da84"),o=n("fdbc"),r=n("17c2"),i=n("9112");for(var s in o){var c=a[s],l=c&&c.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,o=n("a640"),r=n("ae40"),i=o("forEach"),s=r("forEach");t.exports=i&&s?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"3dd5":function(t,e,n){"use strict";var a=n("9cfd"),o=n.n(a);o.a},4160:function(t,e,n){"use strict";var a=n("23e7"),o=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},4533:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[n("top-nav",{attrs:{title:"招聘",isShow:!1}}),n("tabs",[n("job"),n("record")],1),n("bottom-nav",{attrs:{active:0}})],1)},o=[],r=n("40d6"),i=n("cf7f"),s=n("4819"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-tab",{attrs:{title:"应聘岗位"}},[n("my-filter",{ref:"filter",on:{reset:t.getList,handleSubmit:t.handleSubmit}}),n("van-row",[n("van-col",{attrs:{span:"9"}},[n("search",{attrs:{placeholder:"岗位主题"},on:{search:t.handleSearch}})],1),n("van-col",{attrs:{span:"9"}},[n("dropdown-menu",{on:{changeValue:t.handleChange}})],1),n("van-col",{attrs:{span:"6"}},[n("van-button",{attrs:{color:"rgb(81, 125, 252)",icon:"filter-o",size:"small"},on:{click:function(e){t.$refs.filter.show=!0}}},[t._v("筛选")])],1)],1),t.list.length?n("ul",{staticClass:"list"},t._l(t.list,(function(e,a){return n("li",{key:a,on:{click:function(n){return t.handleClick(n,e.stationId)}}},[n("div",{staticClass:"left"},[n("h4",{staticStyle:{color:"#0040FF"}},[t._v(t._s(e.stationName))]),n("p",[t._v("用工老师："+t._s(e.stationTeacher))]),1===t.staffPass?n("p",[t._v("已有人数："+t._s(e.usedTotalNum)+" / "+t._s(e.totalNum))]):t._e(),0===t.staffPass?n("p",[t._v("已有人数："+t._s(e.usedNonpoorNum)+" / "+t._s(e.nonpoorNum))]):t._e()]),n("div",{staticClass:"right"},[n("p",[t._v(t._s(e.workStartTime))]),n("van-button",{attrs:{color:"rgb(81, 125, 252)",size:"mini"}},[t._v("我要应聘")])],1)])})),0):n("p",{staticClass:"tip"},[t._v("暂无岗位信息~")])],1)},l=[],u=(n("4de4"),n("4160"),n("fb6a"),n("159b"),n("96cf"),n("1da1")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-search",{attrs:{placeholder:t.placeholder,shape:"round"},on:{search:t.onSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})},d=[],h={data:function(){return{searchValue:""}},props:["placeholder"],methods:{onSearch:function(t){this.$emit("search",t)}}},p=h,v=(n("9c92"),n("2877")),m=Object(v["a"])(p,f,d,!1,null,"6263421b",null),g=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-dropdown-menu",{attrs:{"active-color":"rgb(81, 125, 252)"}},[n("van-dropdown-item",{attrs:{options:t.option},on:{change:function(e){return t.onValueChange(t.value)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},w=[],S={data:function(){return{value:0}},inject:["option"],methods:{onValueChange:function(t){this.$emit("changeValue",t)}}},y=S,k=Object(v["a"])(y,b,w,!1,null,null,null),_=k.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{style:{height:"100%",width:"70%",paddingTop:"30px"},attrs:{position:"right"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("van-collapse-item",{attrs:{title:"部门",name:"department"}},[n("div",[n("van-dropdown-menu",[n("van-dropdown-item",{attrs:{options:t.depts},on:{change:function(e){return t.handleDept(t.dept)}},model:{value:t.dept,callback:function(e){t.dept=e},expression:"dept"}})],1)],1)])],1),n("van-cell",[n("h4",[t._v("工种")]),n("div",{staticClass:"category"},t._l(t.stationCategory,(function(e,a){return n("van-button",{key:a,attrs:{size:"small",plain:"",color:"rgb(81, 125, 252)"},on:{click:function(e){return t.handleCategory(a)}}},[t._v(t._s(e))])})),1)]),n("van-cell",[n("van-button",{attrs:{size:"small",color:"rgb(81, 125, 252)"},on:{click:t.handleSubmit}},[t._v("提交")]),n("van-button",{attrs:{size:"small",color:"rgb(81, 125, 252)"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)},C=[],L={data:function(){return{show:!1,activeNames:[""],stationCategory:["固定岗","临时岗","假期岗","本科生助教"],dept:1,category:1,depts:[]}},methods:{getDeptList:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.get("/system/api/student/getDepts");case 2:n=e.sent,200===n.data.code&&(console.log(n.data.data),n.data.data.forEach((function(e){var n={text:"",value:""};n.text=e.deptName,n.value=e.deptId,t.depts.push(n)})));case 4:case"end":return e.stop()}}),e)})))()},handleReset:function(){this.$emit("reset"),this.show=!1},handleSubmit:function(){var t=this;this.$emit("handleSubmit",t.category+1,t.dept)},handleCategory:function(t){console.log(t),this.category=t,console.log(this.category)},handleDept:function(t){console.log(t),this.dept=t,console.log(this.dept)}},mounted:function(){this.getDeptList()}},R=L,E=(n("3dd5"),Object(v["a"])(R,x,C,!1,null,"be1618ac",null)),T=E.exports,$={data:function(){return{list:[],staffPass:""}},components:{Search:g,DropdownMenu:_,MyFilter:T},methods:{handleSearch:function(t){console.log(t)},handleChange:function(t){this.orderBy=t,this.category?this.handleCategory(this.category):this.getList()},handleSubmit:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$ajax.get("/system/api/student/getStationList",{params:{deptIdList:e,stationTypeList:t,stationName:""}});case 2:o=a.sent,200===o.data.code?(n.list=o.data.data,n.list.forEach((function(t){t.workStartTime=t.workStartTime.slice(0,10)})),console.log(o),n.$refs.filter.show=!1):n.$emit.error("查询出错了请重试～");case 4:case"end":return a.stop()}}),a)})))()},handleClick:function(t,e){"BUTTON"===t.target.nodeName?this.$router.push({name:"Employ",params:{stationId:e}}):this.$router.push({name:"JobDetail",params:{stationId:e}})},getList:function(){var t=arguments,e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:"/system/api/student/getStationList",n.next=3,e.$ajax.get(a);case 3:o=n.sent,200===o.data.code&&(console.log(o.data.data),e.list=o.data.data,e.list.forEach((function(t){t.workStartTime=t.workStartTime.slice(0,10)})));case 5:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getList(),this.staffPass=sessionStorage.getItem("staffPass").slice(1,2)-0,console.log(this.staffPass)}},j=$,N=(n("e109"),Object(v["a"])(j,c,l,!1,null,"a3028158",null)),O=N.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-tab",{attrs:{title:"应聘记录"}},[n("ul",{staticClass:"list"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"加载完成!!!"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,a){return n("list-layout",{key:a,attrs:{firstLayout:1}},[n("van-icon",{attrs:{slot:"left-icon",size:"40",color:"rgb(81, 125, 252)",name:"contact"},slot:"left-icon"}),n("div",{attrs:{slot:"content"},slot:"content"},[n("h4",[t._v(t._s(e.stationName))]),n("div")]),n("div",{attrs:{slot:"right"},slot:"right"},[n("span",{staticClass:"date"},[t._v(t._s(e.createTime))]),"1"===e.offerState?n("van-button",{attrs:{size:"mini",color:"rgb(81, 125, 252)"},on:{click:function(n){return t.handleResignJob(e.stationId)}}},[t._v("我要辞职")]):t._e(),"0"===e.offerState?n("van-button",{attrs:{size:"mini",color:"rgb(81, 125, 252)"},on:{click:function(n){return t.handleEmploy(e.stationId)}}},[t._v("取消应聘")]):t._e(),"0"!==e.offerState&&"1"!==e.offerState?n("van-button",{attrs:{disabled:"",size:"mini",color:"rgb(81, 125, 252)"}},[t._v(t._s(e.offerState))]):t._e()],1)],1)})),1)],1),n("van-dialog",{attrs:{title:"理由","show-cancel-button":""},on:{confirm:t.submitCancle},model:{value:t.showCancleApply,callback:function(e){t.showCancleApply=e},expression:"showCancleApply"}},[n("van-field",{attrs:{rows:"1",autosize:"",label:"理由",type:"textarea",placeholder:"请输入取消应聘的理由"},model:{value:t.remarkContent,callback:function(e){t.remarkContent=e},expression:"remarkContent"}})],1),n("van-dialog",{attrs:{title:"理由","show-cancel-button":""},on:{confirm:t.submitResignJob},model:{value:t.showResignJob,callback:function(e){t.showResignJob=e},expression:"showResignJob"}},[n("van-field",{attrs:{rows:"1",autosize:"",label:"理由",type:"textarea",placeholder:"请输入辞职的理由"},model:{value:t.remarkContent,callback:function(e){t.remarkContent=e},expression:"remarkContent"}})],1)],1)},I=[],J=n("086d"),V={data:function(){return{list:[],pageNum:1,loading:!1,finished:!1,showCancleApply:!1,cancleStationId:"",showResignJob:!1,resignJobId:"",remarkContent:"",spareTime:""}},components:{ListLayout:J["a"]},methods:{onLoad:function(){var t=this;setTimeout((function(){t.pageNum++,t.getList(),t.loading=!1}),1e3)},handleSearch:function(t){console.log(t)},handleDetail:function(t){this.$router.push({name:"JobDetail",params:{stationId:t}})},handleEmploy:function(t){this.showCancleApply=!0,this.cancleStationId=t},submitCancle:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.post("/system/api/student//cancelAppliedJob",{stationId:t.cancleStationId,remarkContent:t.remarkContent});case 2:n=e.sent,200===n.data.code?(t.$toast("取消应聘成功"),t.loading=!0,t.finished=!1,t.getList()):t.$toast("取消应聘失败"),t.showCancleApply=!1;case 5:case"end":return e.stop()}}),e)})))()},handleResignJob:function(t){this.showResignJob=!0,this.resignJobId=t},submitResignJob:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.post("/system/api/student//resignJob",{stationId:t.resignJobId,remarkContent:t.remarkContent});case 2:n=e.sent,200===n.data.code?(t.$toast("辞职成功"),t.loading=!0,t.finished=!1,t.getList()):t.$toast("辞职失败"),t.showResignJob=!1;case 5:case"end":return e.stop()}}),e)})))()},getApplylist:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.get("/system/api/student/getMyStations");case 2:n=e.sent,200===n.data.code&&(n.data.data.forEach((function(e){switch(e.offerState){case"2":e.offerState="被解聘";break;case"3":e.offerState="提交辞职";break;case"4":e.offerState="批准辞职";break;case"5":e.offerState="被拒绝";break;case"6":e.offerState="已经结束";break;default:break}"1"===e.delFlag&&(e.offerState="已取消"),"2"===e.delFlag&&(e.offerState="拒绝辞职"),t.list.unshift(e)})),t.finished=!0);case 4:case"end":return e.stop()}}),e)})))()},getList:function(){this.list=[],this.getApplylist()}},mounted:function(){this.getList(),console.log(this.list)}},D=V,M=(n("b606"),Object(v["a"])(D,A,I,!1,null,"462f17b7",null)),P=M.exports,z={components:{TopNav:r["a"],BottomNav:i["a"],Tabs:s["a"],Job:O,Record:P},provide:{option:[{text:"按发布日期降序",value:0},{text:"按用工人数降序",value:1}]}},F=z,G=Object(v["a"])(F,a,o,!1,null,null,null);e["default"]=G.exports},4819:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-tabs",{attrs:{"title-active-color":"rgb(81, 125, 252)",color:"rgb(48, 52, 253)","line-width":"50%","line-height":"1px"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._t("default")],2)},o=[],r={data:function(){return{active:0}}},i=r,s=n("2877"),c=Object(s["a"])(i,a,o,!1,null,null,null);e["a"]=c.exports},"4de4":function(t,e,n){"use strict";var a=n("23e7"),o=n("b727").filter,r=n("1dde"),i=n("ae40"),s=r("filter"),c=i("filter");a({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"82b1":function(t,e,n){},"9c92":function(t,e,n){"use strict";var a=n("ad20"),o=n.n(a);o.a},"9cfd":function(t,e,n){},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},ad20:function(t,e,n){},ae40:function(t,e,n){var a=n("83ab"),o=n("d039"),r=n("5135"),i=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(r(s,t))return s[t];e||(e={});var n=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:c,f=r(e,1)?e[1]:void 0;return s[t]=!!n&&!o((function(){if(l&&!a)return!0;var t={length:-1};l?i(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,f)}))}},b606:function(t,e,n){"use strict";var a=n("82b1"),o=n.n(a);o.a},b727:function(t,e,n){var a=n("0366"),o=n("44ad"),r=n("7b0b"),i=n("50c4"),s=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(h,p,v,m){for(var g,b,w=r(h),S=o(w),y=a(p,v,3),k=i(S.length),_=0,x=m||s,C=e?x(h,k):n?x(h,0):void 0;k>_;_++)if((d||_ in S)&&(g=S[_],b=y(g,_,w),t))if(e)C[_]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:c.call(C,g)}else if(u)return!1;return f?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},cf7f:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-tabbar",{attrs:{"inactive-color":"#333","active-color":"#004efd"},model:{value:t.activeValue,callback:function(e){t.activeValue=e},expression:"activeValue"}},[n("van-tabbar-item",{attrs:{to:"/employment",icon:"friends"}},[t._v("应聘")]),n("van-tabbar-item",{attrs:{to:"/notify",icon:"bell"}},[t._v("公告")]),n("van-tabbar-item",{attrs:{to:"/checkWork",icon:"sign"}},[t._v("考勤")]),n("van-tabbar-item",{attrs:{to:"/policy",icon:"newspaper-o"}},[t._v("政策")]),n("van-tabbar-item",{attrs:{to:"/studentInfo",icon:"manager"}},[t._v("我的")])],1)},o=[],r={props:["active"],data:function(){return{activeValue:0}},mounted:function(){this.activeValue=this.$props.active}},i=r,s=n("2877"),c=Object(s["a"])(i,a,o,!1,null,null,null);e["a"]=c.exports},da37:function(t,e,n){},e109:function(t,e,n){"use strict";var a=n("da37"),o=n.n(a);o.a},fb6a:function(t,e,n){"use strict";var a=n("23e7"),o=n("861d"),r=n("e8b5"),i=n("23cb"),s=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),f=n("1dde"),d=n("ae40"),h=f("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),m=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var n,a,u,f=c(this),d=s(f.length),h=i(t,d),p=i(void 0===e?d:e,d);if(r(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?o(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,h,p);for(a=new(void 0===n?Array:n)(g(p-h,0)),u=0;h<p;h++,u++)h in f&&l(a,u,f[h]);return a.length=u,a}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-1ec4202e.ef19ee23.js.map