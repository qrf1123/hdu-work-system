(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-916be8a8"],{"0d98":function(t,e,a){"use strict";var n=a("cd3f"),r=a.n(n);r.a},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),o=a("17c2"),i=a("9112");for(var c in r){var s=n[c],l=s&&s.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),o=a("ae40"),i=r("forEach"),c=o("forEach");t.exports=i&&c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,a){"use strict";var n=a("23e7"),r=a("5a34"),o=a("1d80"),i=a("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},4160:function(t,e,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"44e7":function(t,e,a){var n=a("861d"),r=a("c6b6"),o=a("b622"),i=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65fd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-tabbar",{attrs:{"inactive-color":"#333","active-color":"#004efd"},model:{value:t.activeValue,callback:function(e){t.activeValue=e},expression:"activeValue"}},[a("van-tabbar-item",{attrs:{to:"/message",icon:"chat-o"}},[t._v("消息")]),a("van-tabbar-item",{attrs:{to:"/Tnotify",icon:"bell"}},[t._v("公告")]),a("van-tabbar-item",{attrs:{to:"/Tpolicy",icon:"newspaper-o"}},[t._v("政策")]),a("van-tabbar-item",{attrs:{to:"/publish",icon:"edit"}},[t._v("发布")]),a("van-tabbar-item",{attrs:{to:"/admission",icon:"bag-o"}},[t._v("录取")]),a("van-tabbar-item",{attrs:{to:"/confirm",icon:"sign"}},[t._v("工时")]),a("van-tabbar-item",{attrs:{to:"/teacherInfo",icon:"manager"}},[t._v("我的")])],1)},r=[],o={props:["active"],data:function(){return{activeValue:0}},activated:function(){this.activeValue=this.$props.active},mounted:function(){this.activeValue=this.$props.active}},i=o,c=a("2877"),s=Object(c["a"])(i,n,r,!1,null,null,null);e["a"]=s.exports},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,a){var n=a("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ae40:function(t,e,a){var n=a("83ab"),r=a("d039"),o=a("5135"),i=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(o(c,t))return c[t];e||(e={});var a=[][t],l=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:s,f=o(e,1)?e[1]:void 0;return c[t]=!!a&&!r((function(){if(l&&!n)return!0;var t={length:-1};l?i(t,1,{enumerable:!0,get:s}):t[1]=1,a.call(t,u,f)}))}},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),o=a("7b0b"),i=a("50c4"),c=a("65f0"),s=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(h,m,v,p){for(var g,b,k=o(h),S=r(k),w=n(m,v,3),x=i(S.length),L=0,C=p||c,y=e?C(h,x):a?C(h,0):void 0;x>L;L++)if((d||L in S)&&(g=S[L],b=w(g,L,k),t))if(e)y[L]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return L;case 2:s.call(y,g)}else if(u)return!1;return f?-1:l||u?u:y}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},caad:function(t,e,a){"use strict";var n=a("23e7"),r=a("4d64").includes,o=a("44d2"),i=a("ae40"),c=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cd3f:function(t,e,a){},f3c0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm"},[a("top-nav",{attrs:{title:"工时确认",isShow:!1}}),a("div",{staticClass:"dateSelect"},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.stationList},model:{value:t.model.stationId,callback:function(e){t.$set(t.model,"stationId",e)},expression:"model.stationId"}})],1),a("van-field",{attrs:{border:!1,label:"起始日期","right-icon":"calender-o",readonly:"",clickable:"",name:"calendar",value:t.model.searchStartDate,placeholder:"点击选择日期"},on:{click:function(e){t.showCalendar1=!0}}}),a("van-calendar",{attrs:{color:"rgb(81, 125, 252)","min-date":t.minDate,"max-date":t.maxDate,"show-confirm":!1},on:{confirm:t.onConfirmStart},model:{value:t.showCalendar1,callback:function(e){t.showCalendar1=e},expression:"showCalendar1"}}),a("van-field",{attrs:{border:!1,label:"终止日期","right-icon":"calender-o",readonly:"",clickable:"",name:"calendar",value:t.model.searchEndDate,placeholder:"点击选择日期"},on:{click:function(e){t.showCalendar2=!0}}}),a("van-calendar",{attrs:{color:"rgb(81, 125, 252)","min-date":t.minDate,"max-date":t.maxDate,"show-confirm":!1},on:{confirm:t.onConfirmEnd},model:{value:t.showCalendar2,callback:function(e){t.showCalendar2=e},expression:"showCalendar2"}}),a("van-cell",{attrs:{title:"",clickable:""},scopedSlots:t._u([{key:"right-icon",fn:function(){return[a("van-button",{attrs:{color:"rgb(81, 125, 252)",size:"mini"},on:{click:function(e){return t.getList(1)}}},[t._v("查询")])]},proxy:!0}])})],1),a("ul",{staticClass:"list"},[a("van-checkbox-group",{ref:"checkGroup",model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.workHoursRecords,(function(e,n){return a("list-layout",{key:n,attrs:{firstLayout:1}},[a("van-icon",{attrs:{slot:"left-icon",name:"contact",size:"40",color:"rgb(81, 125, 252)"},slot:"left-icon"}),a("div",{attrs:{slot:"content"},slot:"content"},[a("h4",[t._v("学生学号："+t._s(e.userId))]),a("div",{staticClass:"info"},[a("p",[t._v("工作日期："+t._s(e.workDate))]),a("p",[t._v("工作时长："+t._s(e.workMinutes)+"min")]),a("p",[t._v("确认状态："+t._s(e.comfirmStatus))]),a("p",[t._v("确认工时："+t._s(e.comfirmMinutes)+"min("+t._s((e.comfirmMinutes/60).toFixed(1))+"h)")])])]),a("div",{attrs:{slot:"right"},slot:"right"},[a("van-button",{attrs:{size:"mini",color:"rgb(81, 125, 252)"},on:{click:function(a){return t.toWorkHoursDetail(e)}}},[t._v("详情")])],1)],1)})),1)],1),a("van-cell",{staticClass:"ven-cell-bottom",attrs:{clickable:""},on:{click:t.handleSelectAll},scopedSlots:t._u([{key:"right-icon",fn:function(){return[a("van-button",{staticClass:"confirmAllButton",attrs:{color:"rgb(81, 125, 252)",size:"mini"}},[t._v("一键确认")])]},proxy:!0}])},[a("p")]),a("bottom-nav",{attrs:{active:5}})],1)},r=[],o=(a("99af"),a("4160"),a("caad"),a("2532"),a("159b"),a("96cf"),a("1da1")),i=a("40d6"),c=a("65fd"),s=a("086d"),l={data:function(){return{model:{stationId:1,searchStartDate:"",searchEndDate:""},list:[],result:[],showCalendar1:!1,showCalendar2:!1,checked:!1,activeNames:[""],stationList:[],workHoursRecords:[],showWokrHoursDetail:!1,minDate:new Date(2020,0,1),maxDate:new Date(2030,0,31)}},components:{TopNav:i["a"],BottomNav:c["a"],ListLayout:s["a"]},methods:{handleSelectAll:function(t){var e=this,a=t.target.className;a.includes("van-checkbox")||a.includes("van-icon-success")?this.checked?this.$refs.checkGroup.toggleAll(!1):(this.$refs.checkGroup.toggleAll(!0),console.log(this.result)):a.includes("van-button")&&this.$dialog.confirm({message:"确定一键确认所有选中工时吗？"}).then((function(){e.confirmAll()})).catch((function(){}))},confirmAll:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.post("/system/api/teacher/workHoursComfirmAll",t.model);case 2:a=e.sent,t.$toast(a.data.msg);case 4:case"end":return e.stop()}}),e)})))()},checkAll:function(){this.$refs.checkboxGroup.toggleAll(!0),console.log(this.result)},toggleAll:function(){this.$refs.checkboxGroup.toggleAll()},toWorkHoursDetail:function(t){this.$router.push({path:"/workHoursDetail",query:{item:t,model:this.model}})},onConfirmStart:function(t){this.model.searchStartDate="".concat(t.getFullYear(),"-").concat(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),"-").concat(t.getDate()>9?t.getDate():"0"+t.getDate()),this.showCalendar1=!1},onConfirmEnd:function(t){this.model.searchEndDate="".concat(t.getFullYear(),"-").concat(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),"-").concat(t.getDate()>9?t.getDate():"0"+t.getDate()),this.showCalendar2=!1},handleChangeTime:function(){this.$router.push("/changeTime")},handleSubmit:function(){console.log("提交名单")},getStationList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.get("/system/api/teacher/queryTeacherStation");case 2:a=e.sent,a.data.forEach((function(e){var a={value:"",text:""};a.value=e.stationId,a.text=e.stationName,t.stationList.push(a)}));case 4:case"end":return e.stop()}}),e)})))()},getList:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.model,a.next=3,e.$ajax.get("/system/api/teacher/workHoursRecords",{params:t});case 3:n=a.sent,console.log(n.data),n.data&&(e.workHoursRecords=n.data,e.workHoursRecords.forEach((function(t){switch(t.comfirmStatus){case"0":t.comfirmStatus="未确认";break;case"1":t.comfirmStatus="用工老师已确认";break;case"2":t.comfirmStatus="等待上级审批";break;case"3":t.comfirmStatus="等待上级审批";break;default:break}})));case 6:case"end":return a.stop()}}),a)})))()}},beforeRouteLeave:function(t,e,a){e.meta.isBack=!0,a()},activated:function(){if(this.$route.meta.isBack){var t=this.$route.query.model;this.getList(t)}},mounted:function(){this.getStationList()}},u=l,f=(a("0d98"),a("2877")),d=Object(f["a"])(u,n,r,!1,null,"58f7f49b",null);e["default"]=d.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-916be8a8.7c734e48.js.map